<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.12.0" xml:lang="en-US">
  <compounddef id="game_8cpp" kind="file" language="C++">
    <compoundname>game.cpp</compoundname>
    <includes refid="game_8h" local="yes">game.h</includes>
    <includes local="no">algorithm</includes>
    <includes refid="reporter__access_8h" local="yes">reporter_access.h</includes>
    <includes refid="game__state_8h" local="yes">game_state.h</includes>
    <includes refid="camera_8h" local="yes">camera.h</includes>
    <includes refid="rendering__channel_8h" local="yes">rendering_channel.h</includes>
    <includes refid="console_8h" local="yes">console.h</includes>
    <includes refid="assertions__console_8h" local="yes">assertions_console.h</includes>
    <includes refid="mesh_8h" local="yes">mesh.h</includes>
    <includes refid="graphics_8h" local="yes">graphics.h</includes>
    <includes refid="graphics__mode_8h" local="yes">graphics_mode.h</includes>
    <includes refid="os__utils_8h" local="yes">os_utils.h</includes>
    <includes refid="color_8h" local="yes">color.h</includes>
    <includes local="yes">..\resource.h</includes>
    <includes refid="renderer_8h" local="yes">renderer.h</includes>
    <includes refid="ui__pass_8h" local="yes">ui_pass.h</includes>
    <includes refid="ui__component_8h" local="yes">ui_component.h</includes>
    <includes refid="cube_8h" local="yes">cube.h</includes>
    <includes refid="sphere_8h" local="yes">sphere.h</includes>
    <includes refid="line_8h" local="yes">line.h</includes>
    <includes refid="plane_8h" local="yes">plane.h</includes>
    <includes refid="global__constants_8h" local="yes">global_constants.h</includes>
    <includes local="yes">imgui/imgui.h</includes>
    <includes refid="imgui__visitors_8h" local="yes">imgui_visitors.h</includes>
    <incdepgraph>
      <node id="96">
        <label>..\resource.h</label>
      </node>
      <node id="23">
        <label>assertions_console.h</label>
        <link refid="assertions__console_8h"/>
        <childnode refid="24" relation="include">
        </childnode>
      </node>
      <node id="60">
        <label>bindable.h</label>
        <link refid="bindable_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
      </node>
      <node id="81">
        <label>camera.h</label>
        <link refid="camera_8h"/>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="52" relation="include">
        </childnode>
        <childnode refid="53" relation="include">
        </childnode>
        <childnode refid="49" relation="include">
        </childnode>
      </node>
      <node id="48">
        <label>camera_manager.h</label>
        <link refid="camera__manager_8h"/>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="49" relation="include">
        </childnode>
      </node>
      <node id="13">
        <label>color.h</label>
        <link refid="color_8h"/>
      </node>
      <node id="29">
        <label>console.h</label>
        <link refid="console_8h"/>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
      </node>
      <node id="100">
        <label>cube.h</label>
        <link refid="cube_8h"/>
        <childnode refid="58" relation="include">
        </childnode>
        <childnode refid="51" relation="include">
        </childnode>
      </node>
      <node id="64">
        <label>dynamic_constant_buffer.h</label>
        <link refid="dynamic__constant__buffer_8h"/>
        <childnode refid="65" relation="include">
        </childnode>
        <childnode refid="52" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="36" relation="include">
        </childnode>
      </node>
      <node id="2">
        <label>game.h</label>
        <link refid="game_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="48" relation="include">
        </childnode>
        <childnode refid="50" relation="include">
        </childnode>
        <childnode refid="57" relation="include">
        </childnode>
        <childnode refid="53" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="66" relation="include">
        </childnode>
        <childnode refid="68" relation="include">
        </childnode>
        <childnode refid="74" relation="include">
        </childnode>
        <childnode refid="75" relation="include">
        </childnode>
        <childnode refid="76" relation="include">
        </childnode>
        <childnode refid="77" relation="include">
        </childnode>
        <childnode refid="78" relation="include">
        </childnode>
      </node>
      <node id="80">
        <label>game_state.h</label>
        <link refid="game__state_8h"/>
      </node>
      <node id="104">
        <label>global_constants.h</label>
        <link refid="global__constants_8h"/>
      </node>
      <node id="82">
        <label>graphics.h</label>
        <link refid="graphics_8h"/>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="83" relation="include">
        </childnode>
        <childnode refid="85" relation="include">
        </childnode>
        <childnode refid="62" relation="include">
        </childnode>
        <childnode refid="86" relation="include">
        </childnode>
        <childnode refid="52" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="14" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="87" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
      </node>
      <node id="61">
        <label>graphics_friend.h</label>
        <link refid="graphics__friend_8h"/>
        <childnode refid="62" relation="include">
        </childnode>
      </node>
      <node id="88">
        <label>graphics_mode.h</label>
        <link refid="graphics__mode_8h"/>
      </node>
      <node id="78">
        <label>imgui_manager.h</label>
        <link refid="imgui__manager_8h"/>
      </node>
      <node id="55">
        <label>imgui_visitors.h</label>
        <link refid="imgui__visitors_8h"/>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="35" relation="include">
        </childnode>
      </node>
      <node id="14">
        <label>key_exception.h</label>
        <link refid="key__exception_8h"/>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
      </node>
      <node id="68">
        <label>key_sound.h</label>
        <link refid="key__sound_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="69" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="71" relation="include">
        </childnode>
        <childnode refid="72" relation="include">
        </childnode>
        <childnode refid="73" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
      </node>
      <node id="26">
        <label>key_timer.h</label>
        <link refid="key__timer_8h"/>
        <childnode refid="27" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="30" relation="include">
        </childnode>
      </node>
      <node id="46">
        <label>key_type_traits.h</label>
        <link refid="key__type__traits_8h"/>
        <childnode refid="6" relation="include">
        </childnode>
      </node>
      <node id="83">
        <label>key_wrl.h</label>
        <link refid="key__wrl_8h"/>
        <childnode refid="84" relation="include">
        </childnode>
      </node>
      <node id="16">
        <label>keyboard.h</label>
        <link refid="keyboard_8h"/>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
      </node>
      <node id="50">
        <label>light_source.h</label>
        <link refid="light__source_8h"/>
        <childnode refid="51" relation="include">
        </childnode>
        <childnode refid="52" relation="include">
        </childnode>
        <childnode refid="53" relation="include">
        </childnode>
      </node>
      <node id="102">
        <label>line.h</label>
        <link refid="line_8h"/>
        <childnode refid="58" relation="include">
        </childnode>
        <childnode refid="51" relation="include">
        </childnode>
      </node>
      <node id="59">
        <label>material.h</label>
        <link refid="material_8h"/>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="60" relation="include">
        </childnode>
      </node>
      <node id="30">
        <label>math_utils.h</label>
        <link refid="math__utils_8h"/>
        <childnode refid="31" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="33" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="35" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="36" relation="include">
        </childnode>
      </node>
      <node id="58">
        <label>mesh.h</label>
        <link refid="mesh_8h"/>
        <childnode refid="52" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="59" relation="include">
        </childnode>
        <childnode refid="49" relation="include">
        </childnode>
        <childnode refid="63" relation="include">
        </childnode>
      </node>
      <node id="53">
        <label>model.h</label>
        <link refid="model_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="54" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="52" relation="include">
        </childnode>
        <childnode refid="49" relation="include">
        </childnode>
        <childnode refid="55" relation="include">
        </childnode>
      </node>
      <node id="20">
        <label>mouse.h</label>
        <link refid="mouse_8h"/>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
      </node>
      <node id="19">
        <label>non_copyable.h</label>
        <link refid="non__copyable_8h"/>
      </node>
      <node id="89">
        <label>os_utils.h</label>
        <link refid="os__utils_8h"/>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="90" relation="include">
        </childnode>
        <childnode refid="91" relation="include">
        </childnode>
        <childnode refid="92" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="33" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
        <childnode refid="93" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="94" relation="include">
        </childnode>
        <childnode refid="95" relation="include">
        </childnode>
      </node>
      <node id="103">
        <label>plane.h</label>
        <link refid="plane_8h"/>
        <childnode refid="58" relation="include">
        </childnode>
        <childnode refid="51" relation="include">
        </childnode>
      </node>
      <node id="74">
        <label>rectangle.h</label>
        <link refid="rectangle_8h"/>
        <childnode refid="52" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
      </node>
      <node id="97">
        <label>renderer.h</label>
        <link refid="renderer_8h"/>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
      </node>
      <node id="49">
        <label>rendering_channel.h</label>
        <link refid="rendering__channel_8h"/>
      </node>
      <node id="79">
        <label>reporter_access.h</label>
        <link refid="reporter__access_8h"/>
        <childnode refid="22" relation="include">
        </childnode>
      </node>
      <node id="22">
        <label>reporter_listener.h</label>
        <link refid="reporter__listener_8h"/>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
      </node>
      <node id="25">
        <label>reporter_listener_events.h</label>
        <link refid="reporter__listener__events_8h"/>
        <childnode refid="8" relation="include">
        </childnode>
      </node>
      <node id="66">
        <label>settings_manager.h</label>
        <link refid="settings__manager_8h"/>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="67" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
      </node>
      <node id="101">
        <label>sphere.h</label>
        <link refid="sphere_8h"/>
        <childnode refid="58" relation="include">
        </childnode>
        <childnode refid="51" relation="include">
        </childnode>
      </node>
      <node id="57">
        <label>terrain.h</label>
        <link refid="terrain_8h"/>
        <childnode refid="51" relation="include">
        </childnode>
        <childnode refid="52" relation="include">
        </childnode>
        <childnode refid="58" relation="include">
        </childnode>
      </node>
      <node id="87">
        <label>texture_desc.h</label>
        <link refid="texture__desc_8h"/>
        <childnode refid="62" relation="include">
        </childnode>
      </node>
      <node id="63">
        <label>transform_vscb.h</label>
        <link refid="transform__vscb_8h"/>
        <childnode refid="52" relation="include">
        </childnode>
        <childnode refid="60" relation="include">
        </childnode>
        <childnode refid="64" relation="include">
        </childnode>
      </node>
      <node id="99">
        <label>ui_component.h</label>
        <link refid="ui__component_8h"/>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="51" relation="include">
        </childnode>
        <childnode refid="93" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
        <childnode refid="79" relation="include">
        </childnode>
        <childnode refid="74" relation="include">
        </childnode>
      </node>
      <node id="98">
        <label>ui_pass.h</label>
        <link refid="ui__pass_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
      </node>
      <node id="36">
        <label>utils.h</label>
        <link refid="utils_8h"/>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="33" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="38" relation="include">
        </childnode>
        <childnode refid="39" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="41" relation="include">
        </childnode>
        <childnode refid="42" relation="include">
        </childnode>
        <childnode refid="43" relation="include">
        </childnode>
        <childnode refid="44" relation="include">
        </childnode>
        <childnode refid="45" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
        <childnode refid="47" relation="include">
        </childnode>
      </node>
      <node id="47">
        <label>utils_global.h</label>
        <link refid="utils__global_8h"/>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
      </node>
      <node id="7">
        <label>window.h</label>
        <link refid="window_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="14" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
      </node>
      <node id="21">
        <label>windows_hidden_defs.h</label>
        <link refid="windows__hidden__defs_8h"/>
        <childnode refid="10" relation="include">
        </childnode>
      </node>
      <node id="10">
        <label>winner.h</label>
        <link refid="winner_8h"/>
        <childnode refid="11" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
      </node>
      <node id="1">
        <label>src/game.cpp</label>
        <link refid="game_8cpp"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="41" relation="include">
        </childnode>
        <childnode refid="79" relation="include">
        </childnode>
        <childnode refid="80" relation="include">
        </childnode>
        <childnode refid="81" relation="include">
        </childnode>
        <childnode refid="49" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="58" relation="include">
        </childnode>
        <childnode refid="82" relation="include">
        </childnode>
        <childnode refid="88" relation="include">
        </childnode>
        <childnode refid="89" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="96" relation="include">
        </childnode>
        <childnode refid="97" relation="include">
        </childnode>
        <childnode refid="98" relation="include">
        </childnode>
        <childnode refid="99" relation="include">
        </childnode>
        <childnode refid="100" relation="include">
        </childnode>
        <childnode refid="101" relation="include">
        </childnode>
        <childnode refid="102" relation="include">
        </childnode>
        <childnode refid="103" relation="include">
        </childnode>
        <childnode refid="104" relation="include">
        </childnode>
        <childnode refid="105" relation="include">
        </childnode>
        <childnode refid="55" relation="include">
        </childnode>
      </node>
      <node id="52">
        <label>DirectXMath.h</label>
      </node>
      <node id="94">
        <label>ShlObj.h</label>
      </node>
      <node id="12">
        <label>Windows.h</label>
      </node>
      <node id="41">
        <label>algorithm</label>
      </node>
      <node id="75">
        <label>arkanoid/ball.h</label>
      </node>
      <node id="76">
        <label>arkanoid/brick.h</label>
      </node>
      <node id="77">
        <label>arkanoid/paddle.h</label>
      </node>
      <node id="9">
        <label>array</label>
      </node>
      <node id="18">
        <label>bitset</label>
      </node>
      <node id="65">
        <label>cassert</label>
      </node>
      <node id="28">
        <label>chrono</label>
      </node>
      <node id="39">
        <label>cinttypes</label>
      </node>
      <node id="31">
        <label>cmath</label>
      </node>
      <node id="91">
        <label>comdef.h</label>
      </node>
      <node id="70">
        <label>condition_variable</label>
      </node>
      <node id="38">
        <label>cstddef</label>
      </node>
      <node id="32">
        <label>cstdint</label>
      </node>
      <node id="62">
        <label>d3d11.h</label>
      </node>
      <node id="86">
        <label>d3dcompiler.h</label>
      </node>
      <node id="85">
        <label>dxgi1_4.h</label>
      </node>
      <node id="45">
        <label>execution</label>
      </node>
      <node id="54">
        <label>filesystem</label>
      </node>
      <node id="93">
        <label>functional</label>
      </node>
      <node id="40">
        <label>future</label>
      </node>
      <node id="105">
        <label>imgui/imgui.h</label>
      </node>
      <node id="34">
        <label>iomanip</label>
      </node>
      <node id="24">
        <label>iostream</label>
      </node>
      <node id="43">
        <label>iterator</label>
      </node>
      <node id="35">
        <label>limits</label>
      </node>
      <node id="4">
        <label>memory</label>
      </node>
      <node id="69">
        <label>mutex</label>
      </node>
      <node id="42">
        <label>numeric</label>
      </node>
      <node id="3">
        <label>optional</label>
      </node>
      <node id="17">
        <label>queue</label>
      </node>
      <node id="44">
        <label>regex</label>
      </node>
      <node id="11">
        <label>sdkddkver.h</label>
      </node>
      <node id="37">
        <label>set</label>
      </node>
      <node id="33">
        <label>sstream</label>
      </node>
      <node id="15">
        <label>stdexcept</label>
      </node>
      <node id="8">
        <label>string</label>
      </node>
      <node id="67">
        <label>string_view</label>
      </node>
      <node id="27">
        <label>thread</label>
      </node>
      <node id="92">
        <label>tlhelp32.h</label>
      </node>
      <node id="6">
        <label>type_traits</label>
      </node>
      <node id="56">
        <label>unordered_map</label>
      </node>
      <node id="51">
        <label>variant</label>
      </node>
      <node id="5">
        <label>vector</label>
      </node>
      <node id="95">
        <label>wincred.h</label>
      </node>
      <node id="90">
        <label>winternl.h</label>
      </node>
      <node id="84">
        <label>wrl.h</label>
      </node>
      <node id="71">
        <label>wrl\client.h</label>
      </node>
      <node id="73">
        <label>x3daudio.h</label>
      </node>
      <node id="72">
        <label>xaudio2.h</label>
      </node>
    </incdepgraph>
    <sectiondef kind="define">
      <memberdef kind="define" id="game_8cpp_abf95404ac2d11b1cea571127318717af_1abf95404ac2d11b1cea571127318717af" prot="public" static="no">
        <name>throwGameException</name>
        <param><defname>msg</defname></param>
        <initializer>	throw GameException( __LINE__,\
	__FILE__,\
	__FUNCTION__,\
	msg );</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/game.cpp" line="-2" column="9"/>
        <referencedby refid="classGame_a009cd108bf259503079139f647cec4d5_1a009cd108bf259503079139f647cec4d5" compoundref="game_8cpp" startline="86" endline="113">Game&lt; T &gt;::setState</referencedby>
      </memberdef>
    </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="preprocessor">#include<sp/>&quot;<ref refid="game_8h" kindref="compound">game.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;algorithm&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="reporter__access_8h" kindref="compound">reporter_access.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="game__state_8h" kindref="compound">game_state.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="camera_8h" kindref="compound">camera.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="rendering__channel_8h" kindref="compound">rendering_channel.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="console_8h" kindref="compound">console.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="assertions__console_8h" kindref="compound">assertions_console.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="mesh_8h" kindref="compound">mesh.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="graphics_8h" kindref="compound">graphics.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="graphics__mode_8h" kindref="compound">graphics_mode.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="os__utils_8h" kindref="compound">os_utils.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="color_8h" kindref="compound">color.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;..\resource.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="renderer_8h" kindref="compound">renderer.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="ui__pass_8h" kindref="compound">ui_pass.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="ui__component_8h" kindref="compound">ui_component.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="cube_8h" kindref="compound">cube.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="sphere_8h" kindref="compound">sphere.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="line_8h" kindref="compound">line.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="plane_8h" kindref="compound">plane.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="global__constants_8h" kindref="compound">global_constants.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>FINAL_RELEASE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/><sp/>include<sp/>&quot;imgui/imgui.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/><sp/>include<sp/>&quot;<ref refid="imgui__visitors_8h" kindref="compound">imgui_visitors.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>defined<sp/>_DEBUG<sp/>&amp;&amp;<sp/>!defined<sp/>NDEBUG</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/><sp/>include<sp/>&quot;<ref refid="bindable__registry_8h" kindref="compound">bindable_registry.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight><highlight class="keyword">namespace<sp/></highlight><highlight class="normal"><ref refid="namespaceDirectX" kindref="compound">dx</ref><sp/>=<sp/><ref refid="namespaceDirectX" kindref="compound">DirectX</ref>;</highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight><highlight class="keyword">template</highlight><highlight class="normal"><sp/>&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T&gt;</highlight></codeline>
<codeline lineno="35" refid="classGame_ab829358e04b5eb1b8937db2a8683c3a0_1ab829358e04b5eb1b8937db2a8683c3a0" refkind="member"><highlight class="normal"><ref refid="classGame_ab829358e04b5eb1b8937db2a8683c3a0_1ab829358e04b5eb1b8937db2a8683c3a0" kindref="member">Game&lt;T&gt;::Game</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>width,</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>height,</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string<sp/>&amp;title,</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>x,</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>y,</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>nWindows<sp/>)</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/>:</highlight></codeline>
<codeline lineno="42"><highlight class="normal">#ifndef<sp/>FINAL_RELEASE</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/>m_pImguiMan{createImguiManager()},</highlight></codeline>
<codeline lineno="44"><highlight class="normal">#endif</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/>m_mainWindow{width,<sp/>height,<sp/>title.c_str(),<sp/><ref refid="window_8h_a20fc6f5b3b83853aa494acbb2acd8c6d_1a20fc6f5b3b83853aa494acbb2acd8c6d" kindref="member">MAIN_WINDOW_CLASS_NAME</ref>,<sp/><ref refid="classWindow" kindref="compound">Window</ref>::windowProc,<sp/>x,<sp/>y,<sp/><ref refid="structColorBGRA" kindref="compound">ColorBGRA</ref>{255,<sp/>255,<sp/>255},<sp/>LoadMenuW(<sp/><ref refid="winner_8h_a2748c6eb2f7795ab31178c21963b07b2_1a2748c6eb2f7795ab31178c21963b07b2" kindref="member">THIS_INSTANCE</ref>,<sp/>MAKEINTRESOURCEW(<sp/>IDR_MENU_APP<sp/>)<sp/>)},</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/>m_pCurrentState{std::make_unique&lt;<ref refid="classGameState" kindref="compound">GameState</ref>&gt;()}</highlight></codeline>
<codeline lineno="47"><highlight class="normal">{</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classGame_aa2ff10aa0692ef22b70af2acebaa2888_1aa2ff10aa0692ef22b70af2acebaa2888" kindref="member">s_nWindows</ref><sp/>=<sp/>nWindows;</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classGame_a3953acd0d7eec863ee8f0cdda2e7a98d_1a3953acd0d7eec863ee8f0cdda2e7a98d" kindref="member">m_gameTimer</ref>.<ref refid="classKeyTimer_ab8ce8e8658a0ea7c9b5ab4028bc7b777_1ab8ce8e8658a0ea7c9b5ab4028bc7b777" kindref="member">start</ref>();</highlight></codeline>
<codeline lineno="50"><highlight class="normal">}</highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight><highlight class="keyword">template</highlight><highlight class="normal"><sp/>&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T&gt;</highlight></codeline>
<codeline lineno="53" refid="classGame_a9716d4a268c77574e00b289827b46d65_1a9716d4a268c77574e00b289827b46d65" refkind="member"><highlight class="normal"><ref refid="structImguiManager" kindref="compound">ImguiManager</ref>*<sp/><ref refid="classGame_a9716d4a268c77574e00b289827b46d65_1a9716d4a268c77574e00b289827b46d65" kindref="member">Game&lt;T&gt;::createImguiManager</ref>()<sp/>noexcept</highlight></codeline>
<codeline lineno="54" refid="classGame_1_1GameException_a57db1813ad01ba5d5ae47434efd5c53b_1a57db1813ad01ba5d5ae47434efd5c53b" refkind="member"><highlight class="normal">{</highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>FINAL_RELEASE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="56" refid="classGame_1_1GameException_a8811f86168cd263e14af0fcffa927ec0_1a8811f86168cd263e14af0fcffa927ec0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">constexpr</highlight><highlight class="normal"><sp/>(<sp/><ref refid="namespacegph__mode_aea02034656cf9c2fe5f8de0f20497209_1aea02034656cf9c2fe5f8de0f20497209" kindref="member">gph_mode::get</ref>()<sp/>==<sp/><ref refid="namespacegph__mode_ac01893bc47c796c0175b9ef51d09bf01_1ac01893bc47c796c0175b9ef51d09bf01ab9ccae78a7ef0f76b67c0f0d858990e3" kindref="member">gph_mode::_3D</ref><sp/>)</highlight></codeline>
<codeline lineno="57" refid="classGame_1_1GameException_afb9e4db94a5338c84bc2957edd0fee93_1afb9e4db94a5338c84bc2957edd0fee93" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="structImguiManager" kindref="compound">ImguiManager</ref>{};</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="67"><highlight class="normal">}</highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"></highlight><highlight class="keyword">template</highlight><highlight class="normal"><sp/>&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T&gt;</highlight></codeline>
<codeline lineno="70" refid="classGame_ad133bee3b79c89041c99b31c0110e9cc_1ad133bee3b79c89041c99b31c0110e9cc" refkind="member"><highlight class="normal">std::optional&lt;Window*&gt;<sp/><ref refid="classGame_ad133bee3b79c89041c99b31c0110e9cc_1ad133bee3b79c89041c99b31c0110e9cc" kindref="member">Game&lt;T&gt;::getForegroundWindow</ref>()<sp/>const<sp/>noexcept</highlight></codeline>
<codeline lineno="71"><highlight class="normal">{</highlight></codeline>
<codeline lineno="72" refid="classGame_ab829358e04b5eb1b8937db2a8683c3a0_1ab829358e04b5eb1b8937db2a8683c3a0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>INT_PTR<sp/>mainWindowHandle<sp/>=<sp/>(INT_PTR)<sp/>m_mainWindow.getHandle();</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//static<sp/>const<sp/>INT_PTR<sp/>consoleWindowHandle<sp/>=<sp/>(INT_PTR)<sp/>m_consoleWindow.getHandle();</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//static<sp/>const<sp/>INT_PTR<sp/>helperWindowHandle<sp/>=<sp/>(INT_PTR)<sp/>m_helperWindow.getHandle();</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="75" refid="classGame_a5703dfb57ce49ecfc644b9be76a65fa2_1a5703dfb57ce49ecfc644b9be76a65fa2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>INT_PTR<sp/>pWnd<sp/>=<sp/>(INT_PTR)<sp/>GetForegroundWindow();</highlight></codeline>
<codeline lineno="76" refid="classGame_ad133bee3b79c89041c99b31c0110e9cc_1ad133bee3b79c89041c99b31c0110e9cc" refkind="member"><highlight class="normal"></highlight></codeline>
<codeline lineno="77" refid="classGame_a009cd108bf259503079139f647cec4d5_1a009cd108bf259503079139f647cec4d5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>pWnd<sp/>==<sp/>mainWindowHandle<sp/>)</highlight></codeline>
<codeline lineno="78" refid="classGame_a497f6988307db84ef1445f662c0fb1cd_1a497f6988307db84ef1445f662c0fb1cd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="79" refid="classGame_aa09bb3f51206f2ef0f28453c43cd449a_1aa09bb3f51206f2ef0f28453c43cd449a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>&amp;m_mainWindow;</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="81" refid="classGame_a9716d4a268c77574e00b289827b46d65_1a9716d4a268c77574e00b289827b46d65" refkind="member"><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>std::nullopt;</highlight></codeline>
<codeline lineno="83"><highlight class="normal">}</highlight></codeline>
<codeline lineno="84"><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal"></highlight><highlight class="keyword">template</highlight><highlight class="normal"><sp/>&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T&gt;</highlight></codeline>
<codeline lineno="86" refid="classGame_a009cd108bf259503079139f647cec4d5_1a009cd108bf259503079139f647cec4d5" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classGame_a009cd108bf259503079139f647cec4d5_1a009cd108bf259503079139f647cec4d5" kindref="member">Game&lt;T&gt;::setState</ref>(<sp/>std::unique_ptr&lt;State&gt;<sp/>pNewState,</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classMouse" kindref="compound">Mouse</ref><sp/>&amp;mouse<sp/>)</highlight></codeline>
<codeline lineno="88"><highlight class="normal">{</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="assertions__console_8h_af3e11288cb5021b91949be5058816137_1af3e11288cb5021b91949be5058816137" kindref="member">ASSERT</ref>(<sp/>pNewState,<sp/></highlight><highlight class="stringliteral">&quot;New<sp/>state<sp/>is<sp/>null!&quot;</highlight><highlight class="normal"><sp/>);</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/></highlight><highlight class="keyword">dynamic_cast&lt;</highlight><highlight class="normal"><ref refid="classGameState" kindref="compound">GameState</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(<sp/>pNewState.get()<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_mainWindow.disableCursor();</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mouse.<ref refid="classMouse_ab206a26545760a16a3cae7b633cb6368_1ab206a26545760a16a3cae7b633cb6368" kindref="member">enableRawInput</ref>();</highlight></codeline>
<codeline lineno="94"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>defined<sp/>_DEBUG<sp/>&amp;&amp;<sp/>!defined<sp/>NDEBUG</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKeyConsole" kindref="compound">KeyConsole</ref><sp/>&amp;console<sp/>=<sp/><ref refid="classKeyConsole_a31cfe6a77156baf79a0a74ea338c6e18_1a31cfe6a77156baf79a0a74ea338c6e18" kindref="member">KeyConsole::getInstance</ref>();</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>console.<ref refid="classKeyConsole_a07362c63c978e15bb23d2a43ab697e3a_1a07362c63c978e15bb23d2a43ab697e3a" kindref="member">print</ref>(<sp/></highlight><highlight class="stringliteral">&quot;\nGame<sp/>state<sp/>is<sp/>on.\n&quot;</highlight><highlight class="normal"><sp/>);</highlight></codeline>
<codeline lineno="97"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/></highlight><highlight class="keyword">dynamic_cast&lt;</highlight><highlight class="normal"><ref refid="classMenuState" kindref="compound">MenuState</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(<sp/>pNewState.get()<sp/>)<sp/>!=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal"><sp/>)</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_mainWindow.enableCursor();</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mouse.<ref refid="classMouse_aa58120c264deab6fd47be62fd24a34d8_1aa58120c264deab6fd47be62fd24a34d8" kindref="member">disableRawInput</ref>();</highlight></codeline>
<codeline lineno="103"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>defined<sp/>_DEBUG<sp/>&amp;&amp;<sp/>!defined<sp/>NDEBUG</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKeyConsole" kindref="compound">KeyConsole</ref><sp/>&amp;console<sp/>=<sp/><ref refid="classKeyConsole_a31cfe6a77156baf79a0a74ea338c6e18_1a31cfe6a77156baf79a0a74ea338c6e18" kindref="member">KeyConsole::getInstance</ref>();</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>console.<ref refid="classKeyConsole_a07362c63c978e15bb23d2a43ab697e3a_1a07362c63c978e15bb23d2a43ab697e3a" kindref="member">print</ref>(<sp/></highlight><highlight class="stringliteral">&quot;\nMenu<sp/>state<sp/>is<sp/>on.\n&quot;</highlight><highlight class="normal"><sp/>);</highlight></codeline>
<codeline lineno="106"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="game_8cpp_abf95404ac2d11b1cea571127318717af_1abf95404ac2d11b1cea571127318717af" kindref="member">throwGameException</ref>(<sp/></highlight><highlight class="stringliteral">&quot;Invalid<sp/>state!&quot;</highlight><highlight class="normal"><sp/>);</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/>m_pCurrentState.swap(<sp/>pNewState<sp/>);</highlight></codeline>
<codeline lineno="113"><highlight class="normal">}</highlight></codeline>
<codeline lineno="114"><highlight class="normal"></highlight></codeline>
<codeline lineno="115"><highlight class="normal"></highlight><highlight class="keyword">template</highlight><highlight class="normal"><sp/>&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T&gt;</highlight></codeline>
<codeline lineno="116" refid="classGame_a497f6988307db84ef1445f662c0fb1cd_1a497f6988307db84ef1445f662c0fb1cd" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classState" kindref="compound">State</ref>*<sp/><ref refid="classGame_a497f6988307db84ef1445f662c0fb1cd_1a497f6988307db84ef1445f662c0fb1cd" kindref="member">Game&lt;T&gt;::getState</ref>()<sp/>const<sp/>noexcept</highlight></codeline>
<codeline lineno="117"><highlight class="normal">{</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>m_pCurrentState.get();</highlight></codeline>
<codeline lineno="119"><highlight class="normal">}</highlight></codeline>
<codeline lineno="120"><highlight class="normal"></highlight></codeline>
<codeline lineno="121"><highlight class="normal"></highlight><highlight class="keyword">template</highlight><highlight class="normal"><sp/>&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T&gt;</highlight></codeline>
<codeline lineno="122" refid="classGame_aa09bb3f51206f2ef0f28453c43cd449a_1aa09bb3f51206f2ef0f28453c43cd449a" refkind="member"><highlight class="normal"><ref refid="classState" kindref="compound">State</ref>*<sp/><ref refid="classGame_a497f6988307db84ef1445f662c0fb1cd_1a497f6988307db84ef1445f662c0fb1cd" kindref="member">Game&lt;T&gt;::getState</ref>()<sp/>noexcept</highlight></codeline>
<codeline lineno="123"><highlight class="normal">{</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>m_pCurrentState.get();</highlight></codeline>
<codeline lineno="125"><highlight class="normal">}</highlight></codeline>
<codeline lineno="126"><highlight class="normal"></highlight></codeline>
<codeline lineno="127"><highlight class="normal"></highlight><highlight class="keyword">template</highlight><highlight class="normal">&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T&gt;</highlight></codeline>
<codeline lineno="128" refid="classGame_a5703dfb57ce49ecfc644b9be76a65fa2_1a5703dfb57ce49ecfc644b9be76a65fa2" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classGame_a5703dfb57ce49ecfc644b9be76a65fa2_1a5703dfb57ce49ecfc644b9be76a65fa2" kindref="member">Game&lt;T&gt;::present</ref>(<sp/><ref refid="classGraphics" kindref="compound">Graphics</ref><sp/>&amp;gfx<sp/>)</highlight></codeline>
<codeline lineno="129"><highlight class="normal">{</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/>gfx.<ref refid="classGraphics_a3db48982641ea1fb21947e1524af9648_1a3db48982641ea1fb21947e1524af9648" kindref="member">endFrame</ref>();</highlight></codeline>
<codeline lineno="131"><highlight class="normal">}</highlight></codeline>
<codeline lineno="132"><highlight class="normal"></highlight></codeline>
<codeline lineno="133"><highlight class="normal"></highlight><highlight class="keyword">template</highlight><highlight class="normal">&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T&gt;</highlight></codeline>
<codeline lineno="134" refid="classGame_1_1GameException_a57db1813ad01ba5d5ae47434efd5c53b_1a57db1813ad01ba5d5ae47434efd5c53b" refkind="member"><highlight class="normal"><ref refid="classGame_1_1GameException_a57db1813ad01ba5d5ae47434efd5c53b_1a57db1813ad01ba5d5ae47434efd5c53b" kindref="member">Game&lt;T&gt;::GameException::GameException</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>line,</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*file,</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*function,</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string<sp/>&amp;msg<sp/>)<sp/>noexcept</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/>:</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKeyException" kindref="compound">KeyException</ref>{line,<sp/>file,<sp/>function,<sp/>msg}</highlight></codeline>
<codeline lineno="140"><highlight class="normal">{</highlight></codeline>
<codeline lineno="141"><highlight class="normal"></highlight></codeline>
<codeline lineno="142"><highlight class="normal">}</highlight></codeline>
<codeline lineno="143"><highlight class="normal"></highlight></codeline>
<codeline lineno="144"><highlight class="normal"></highlight><highlight class="keyword">template</highlight><highlight class="normal">&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T&gt;</highlight></codeline>
<codeline lineno="145" refid="classGame_1_1GameException_a8811f86168cd263e14af0fcffa927ec0_1a8811f86168cd263e14af0fcffa927ec0" refkind="member"><highlight class="normal">std::string<sp/><ref refid="classGame_1_1GameException_a8811f86168cd263e14af0fcffa927ec0_1a8811f86168cd263e14af0fcffa927ec0" kindref="member">Game&lt;T&gt;::GameException::getType</ref>()<sp/>const<sp/>noexcept</highlight></codeline>
<codeline lineno="146"><highlight class="normal">{</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">typeid</highlight><highlight class="normal">(<sp/>this<sp/>).name();</highlight></codeline>
<codeline lineno="148"><highlight class="normal">}</highlight></codeline>
<codeline lineno="149"><highlight class="normal"></highlight></codeline>
<codeline lineno="150"><highlight class="normal"></highlight><highlight class="keyword">template</highlight><highlight class="normal">&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T&gt;</highlight></codeline>
<codeline lineno="151" refid="classGame_1_1GameException_afb9e4db94a5338c84bc2957edd0fee93_1afb9e4db94a5338c84bc2957edd0fee93" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/><ref refid="classGame_1_1GameException_afb9e4db94a5338c84bc2957edd0fee93_1afb9e4db94a5338c84bc2957edd0fee93" kindref="member">Game&lt;T&gt;::GameException::what</ref>()<sp/>const<sp/>noexcept</highlight></codeline>
<codeline lineno="152"><highlight class="normal">{</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classKeyException_a9956fdc871308553eec7b047f756690a_1a9956fdc871308553eec7b047f756690a" kindref="member">KeyException::what</ref>();</highlight></codeline>
<codeline lineno="154"><highlight class="normal">}</highlight></codeline>
<codeline lineno="155"><highlight class="normal"></highlight></codeline>
<codeline lineno="156"><highlight class="normal"></highlight></codeline>
<codeline lineno="157" refid="classSandbox3d_a60fad847bf17eed5f75b7b270173c6dd_1a60fad847bf17eed5f75b7b270173c6dd" refkind="member"><highlight class="normal"><ref refid="classSandbox3d_a60fad847bf17eed5f75b7b270173c6dd_1a60fad847bf17eed5f75b7b270173c6dd" kindref="member">Sandbox3d::Sandbox3d</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>width,</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>height,</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>x,</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>y,</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nWindows<sp/>)</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/>:</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classGame" kindref="compound">Game</ref>(width,<sp/>height,<sp/></highlight><highlight class="stringliteral">&quot;KeyEngine<sp/>3d<sp/>Sandbox&quot;</highlight><highlight class="normal">,<sp/>x,<sp/>y,<sp/>nWindows),</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classIListener" kindref="compound">IListener</ref>&lt;<ref refid="structSwapChainResizedEvent" kindref="compound">SwapChainResizedEvent</ref>&gt;()</highlight></codeline>
<codeline lineno="165"><highlight class="normal">{</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>&amp;settings<sp/>=<sp/><ref refid="classGame_a1c1d1b4e98b065c0f48922219c1a84e1_1a1c1d1b4e98b065c0f48922219c1a84e1" kindref="member">s_settingsMan</ref>.<ref refid="classSettingsManager_a2634a5f2822112f9bf7cd42dcf440288_1a2634a5f2822112f9bf7cd42dcf440288" kindref="member">getSettings</ref>();</highlight></codeline>
<codeline lineno="167"><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>&amp;gfx<sp/>=<sp/><ref refid="classGame_ab87c228ca9edcbc171aed5b0ffb2591a_1ab87c228ca9edcbc171aed5b0ffb2591a" kindref="member">m_mainWindow</ref>.<ref refid="classWindow_a7bfce0a1441d9a824b5469ae7de8c862_1a7bfce0a1441d9a824b5469ae7de8c862" kindref="member">getGraphics</ref>();</highlight></codeline>
<codeline lineno="169"><highlight class="normal"></highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classSandbox3d_a368890d44d74ea1fbdd032f13d096bcf_1a368890d44d74ea1fbdd032f13d096bcf" kindref="member">s_cameraMan</ref>.<ref refid="classCameraManager_a434536c5857da84fbb3a93e7071cdfca_1a434536c5857da84fbb3a93e7071cdfca" kindref="member">add</ref>(<sp/>std::make_unique&lt;Camera&gt;(<sp/>gfx,<sp/>gfx.getClientWidth(),<sp/>gfx.getClientHeight(),<sp/>60.0f,<sp/>dx::XMFLOAT3{0.0f,<sp/>0.0f,<sp/>0.0f},<sp/>0.0f,<sp/>90.0f,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/>0.5f,<sp/>1000.0f<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classSandbox3d_a368890d44d74ea1fbdd032f13d096bcf_1a368890d44d74ea1fbdd032f13d096bcf" kindref="member">s_cameraMan</ref>.<ref refid="classCameraManager_a434536c5857da84fbb3a93e7071cdfca_1a434536c5857da84fbb3a93e7071cdfca" kindref="member">add</ref>(<sp/>std::make_unique&lt;Camera&gt;(<sp/>gfx,<sp/>gfx.getClientWidth(),<sp/>gfx.getClientHeight(),<sp/>45.0f,<sp/>dx::XMFLOAT3{-13.5f,<sp/>28.8f,<sp/>-6.4f},<sp/>13.0f,<sp/>61.0f,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/>0.5f,<sp/>400.0f<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="172"><highlight class="normal"></highlight></codeline>
<codeline lineno="173"><highlight class="normal"></highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classSandbox3d_af7589b53c5b5361ee9fac406aae38e1f_1af7589b53c5b5361ee9fac406aae38e1f" kindref="member">m_lights</ref>.reserve(<sp/>settings.iMaxShadowCastingDynamicLights<sp/>);</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//m_lights.push_back(<sp/>std::make_unique&lt;DirectionalLight&gt;(<sp/>gfx,<sp/>0.5f,<sp/>DirectX::XMFLOAT3{0.0f,<sp/>0.0f,<sp/>0.0f},<sp/>DirectX::XMFLOAT3{6.0f,<sp/>6.0f,<sp/>-1.0f},<sp/>DirectX::XMFLOAT4{1.0f,<sp/>1.0f,<sp/>1.0f,<sp/>1.0f},<sp/>true,<sp/>true,<sp/>1.0f<sp/>)<sp/>);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classSandbox3d_af7589b53c5b5361ee9fac406aae38e1f_1af7589b53c5b5361ee9fac406aae38e1f" kindref="member">m_lights</ref>.push_back(<sp/>std::make_unique&lt;PointLight&gt;(<sp/>gfx,<sp/>0.5f,<sp/>DirectX::XMFLOAT3{0.0f,<sp/>0.0f,<sp/>0.0f},<sp/>DirectX::XMFLOAT3{10.0f,<sp/>5.0f,<sp/>-1.4f},<sp/>DirectX::XMFLOAT4{1.0f,<sp/>1.0f,<sp/>1.0f,<sp/>1.0f},<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/>1.0f<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classSandbox3d_af7589b53c5b5361ee9fac406aae38e1f_1af7589b53c5b5361ee9fac406aae38e1f" kindref="member">m_lights</ref>.push_back(<sp/>std::make_unique&lt;PointLight&gt;(<sp/>gfx,<sp/>1.0f,<sp/>DirectX::XMFLOAT3{0.0f,<sp/>1.0f,<sp/>0.f},<sp/>DirectX::XMFLOAT3{5.0f,<sp/>15.0f,<sp/>0.0f},<sp/>DirectX::XMFLOAT4{1.0f,<sp/>1.0f,<sp/>0.2f,<sp/>0.25f},<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/>0.5f<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="178"><highlight class="normal"></highlight></codeline>
<codeline lineno="179"><highlight class="normal"></highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classSandbox3d_a683ca51ea3203622f85d573331a08679_1a683ca51ea3203622f85d573331a08679" kindref="member">m_models</ref>.reserve(<sp/>16<sp/>);</highlight></codeline>
<codeline lineno="181"><highlight class="normal"></highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classSandbox3d_a683ca51ea3203622f85d573331a08679_1a683ca51ea3203622f85d573331a08679" kindref="member">m_models</ref>.emplace_back(<sp/>std::make_unique&lt;Line&gt;(gfx,<sp/>4.0f,<sp/>DirectX::XMFLOAT4{1.0f,<sp/>0.0f,<sp/>0.0f,<sp/>1.0f}),<sp/>gfx,<sp/>dx::XMFLOAT3{0,<sp/>0,<sp/>0},<sp/>dx::XMFLOAT3{10.0f,<sp/>10.0f,<sp/>6.0f}<sp/>);</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classSandbox3d_a683ca51ea3203622f85d573331a08679_1a683ca51ea3203622f85d573331a08679" kindref="member">m_models</ref>.emplace_back(<sp/>std::make_unique&lt;Cube&gt;(gfx,<sp/>4.0f,<sp/></highlight><highlight class="stringliteral">&quot;assets/models/brick_wall/brick_wall_diffuse.jpg&quot;</highlight><highlight class="normal">),<sp/>gfx,<sp/>dx::XMFLOAT3{0,<sp/>0,<sp/>0},<sp/>dx::XMFLOAT3{10.0f,<sp/>5.0f,<sp/>6.0f}<sp/>);</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classSandbox3d_a683ca51ea3203622f85d573331a08679_1a683ca51ea3203622f85d573331a08679" kindref="member">m_models</ref>.emplace_back(<sp/>std::make_unique&lt;Cube&gt;(gfx,<sp/>1.0f,<sp/></highlight><highlight class="stringliteral">&quot;assets/models/brick_wall/brick_wall_diffuse.jpg&quot;</highlight><highlight class="normal">),<sp/>gfx,<sp/>dx::XMFLOAT3{0,<sp/>0,<sp/>0},<sp/>dx::XMFLOAT3{9.9f,<sp/>4.9f,<sp/>1.4f}<sp/>);</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classSandbox3d_a683ca51ea3203622f85d573331a08679_1a683ca51ea3203622f85d573331a08679" kindref="member">m_models</ref>.emplace_back(<sp/>std::make_unique&lt;Cube&gt;(gfx,<sp/>1.0f,<sp/>DirectX::XMFLOAT4{1.0f,<sp/>0.6f,<sp/>1.0f,<sp/>0.6f}),<sp/>gfx,<sp/>dx::XMFLOAT3{0,<sp/>0,<sp/>0},<sp/>dx::XMFLOAT3{22.0f,<sp/>12.0f,<sp/>14.0f}<sp/>);</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classSandbox3d_a683ca51ea3203622f85d573331a08679_1a683ca51ea3203622f85d573331a08679" kindref="member">m_models</ref>.emplace_back(<sp/>std::make_unique&lt;Sphere&gt;(gfx,<sp/>1.0f,<sp/>DirectX::XMFLOAT4{1.0f,<sp/>1.0f,<sp/>0.0f,<sp/>1.0f}),<sp/>gfx,<sp/>dx::XMFLOAT3{0,<sp/>0,<sp/>0},<sp/>dx::XMFLOAT3{40.0f,<sp/>20.0f,<sp/>8.0f}<sp/>);</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classSandbox3d_a683ca51ea3203622f85d573331a08679_1a683ca51ea3203622f85d573331a08679" kindref="member">m_models</ref>.emplace_back(<sp/>std::make_unique&lt;Plane&gt;(gfx,<sp/>1.0f,<sp/>DirectX::XMFLOAT4{1.0f,<sp/>0.0f,<sp/>0.1f,<sp/>0.8f},<sp/>8,<sp/>8),<sp/>gfx,<sp/>dx::XMFLOAT3{0,<sp/>0,<sp/>0},<sp/>dx::XMFLOAT3{40.0f,<sp/>20.0f,<sp/>20.0f}<sp/>);</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classSandbox3d_a683ca51ea3203622f85d573331a08679_1a683ca51ea3203622f85d573331a08679" kindref="member">m_models</ref>.emplace_back(<sp/>std::make_unique&lt;Plane&gt;(gfx,<sp/>1.0f,<sp/>DirectX::XMFLOAT4{0.1f,<sp/>1.0f,<sp/>0.0f,<sp/>0.5f},<sp/>4,<sp/>4),<sp/>gfx,<sp/>dx::XMFLOAT3{0,<sp/>0,<sp/>0},<sp/>dx::XMFLOAT3{40.0f,<sp/>20.0f,<sp/>16.0f}<sp/>);</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classSandbox3d_a683ca51ea3203622f85d573331a08679_1a683ca51ea3203622f85d573331a08679" kindref="member">m_models</ref>.emplace_back(<sp/>std::make_unique&lt;Plane&gt;(gfx,<sp/>1.0f,<sp/></highlight><highlight class="stringliteral">&quot;assets/models/brick_wall/brick_wall_diffuse.jpg&quot;</highlight><highlight class="normal">,<sp/>6,<sp/>6),<sp/>gfx,<sp/>dx::XMFLOAT3{0,<sp/>0,<sp/>0},<sp/>dx::XMFLOAT3{40.0f,<sp/>20.0f,<sp/>12.0f}<sp/>);</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classSandbox3d_a683ca51ea3203622f85d573331a08679_1a683ca51ea3203622f85d573331a08679" kindref="member">m_models</ref>.emplace_back(<sp/>gfx,<sp/></highlight><highlight class="stringliteral">&quot;assets/models/carabiner/carabiner_hook.fbx&quot;</highlight><highlight class="normal">,<sp/>1.0f,<sp/>dx::XMFLOAT3{50,<sp/>0,<sp/>0},<sp/>dx::XMFLOAT3{-10.0f,<sp/>3.0f,<sp/>0.0f}</highlight><highlight class="comment">/*{0.0f,<sp/>0.0f,<sp/>0.0f}*/</highlight><highlight class="normal"><sp/>);</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classSandbox3d_a683ca51ea3203622f85d573331a08679_1a683ca51ea3203622f85d573331a08679" kindref="member">m_models</ref>.emplace_back(<sp/>gfx,<sp/></highlight><highlight class="stringliteral">&quot;assets/models/sponza/sponza.obj&quot;</highlight><highlight class="normal">,<sp/>1.0f<sp/>/<sp/>8.0f,<sp/>dx::XMFLOAT3{0,<sp/>0,<sp/>0},<sp/>dx::XMFLOAT3{0.0f,<sp/>0.0f,<sp/>0.0f}<sp/>);</highlight></codeline>
<codeline lineno="192"><highlight class="normal"></highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classSandbox3d_a976cec295e8116ae7cfb237e5c8c2cf6_1a976cec295e8116ae7cfb237e5c8c2cf6" kindref="member">connectToRenderer</ref>(<sp/>gfx.getRenderer3d()<sp/>);</highlight></codeline>
<codeline lineno="194"><highlight class="normal"></highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classSandbox3d_ac34f018134e5ee3c4078a1b8fbcf0289_1ac34f018134e5ee3c4078a1b8fbcf0289" kindref="member">m_gui</ref><sp/>=<sp/>std::make_unique&lt;gui::UIPass&gt;(<sp/>gfx<sp/>);</highlight></codeline>
<codeline lineno="196"><highlight class="normal"></highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>menuState<sp/>=<sp/>std::make_unique&lt;MenuState&gt;();</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classGame_a009cd108bf259503079139f647cec4d5_1a009cd108bf259503079139f647cec4d5" kindref="member">setState</ref>(<sp/>std::move(<sp/>menuState<sp/>),<sp/><ref refid="classGame_ab87c228ca9edcbc171aed5b0ffb2591a_1ab87c228ca9edcbc171aed5b0ffb2591a" kindref="member">m_mainWindow</ref>.<ref refid="classWindow_a89e829c66c387dfca31d10b9806da751_1a89e829c66c387dfca31d10b9806da751" kindref="member">getMouse</ref>()<sp/>);</highlight></codeline>
<codeline lineno="199"><highlight class="normal"></highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>&amp;reportingNexus<sp/>=<sp/><ref refid="classReportingNexus_a56fd3891e87dd3c034b8cfd7c84cfe16_1a56fd3891e87dd3c034b8cfd7c84cfe16" kindref="member">ReportingNexus::getInstance</ref>();</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="classIReporter" kindref="compound">IReporter&lt;SwapChainResizedEvent&gt;</ref>&amp;</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(<sp/>reportingNexus<sp/>).<ref refid="classIReporter_a6525b196ee174f7c0b3f583da9f0492c_1a6525b196ee174f7c0b3f583da9f0492c" kindref="member">addListener</ref>(<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/>);</highlight></codeline>
<codeline lineno="202"><highlight class="normal">}</highlight></codeline>
<codeline lineno="203"><highlight class="normal"></highlight></codeline>
<codeline lineno="204"><highlight class="normal"><ref refid="classSandbox3d_ac5852645720beb4ed945b2bdeef22ae5_1ac5852645720beb4ed945b2bdeef22ae5" kindref="member">Sandbox3d::~Sandbox3d</ref>()<sp/>noexcept<sp/>=<sp/>default;</highlight></codeline>
<codeline lineno="205"><highlight class="normal"></highlight></codeline>
<codeline lineno="206" refid="classSandbox3d_a5c82a667c7d9a33df3d05f2c2c1bd930_1a5c82a667c7d9a33df3d05f2c2c1bd930" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classSandbox3d" kindref="compound">Sandbox3d</ref>::notify(<sp/>const<sp/><ref refid="structSwapChainResizedEvent" kindref="compound">SwapChainResizedEvent</ref><sp/>&amp;event<sp/>)</highlight></codeline>
<codeline lineno="207"><highlight class="normal">{</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)event;</highlight></codeline>
<codeline lineno="209"><highlight class="normal"></highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/>connectToRenderer(<sp/>m_mainWindow.getGraphics().getRenderer3d()<sp/>);</highlight></codeline>
<codeline lineno="211"><highlight class="normal">}</highlight></codeline>
<codeline lineno="212"><highlight class="normal"></highlight></codeline>
<codeline lineno="213" refid="classSandbox3d_a22ca94841fcff1809793a061a7825155_1a22ca94841fcff1809793a061a7825155" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classSandbox3d_a22ca94841fcff1809793a061a7825155_1a22ca94841fcff1809793a061a7825155" kindref="member">Sandbox3d::loop</ref>()</highlight></codeline>
<codeline lineno="214"><highlight class="normal">{</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>&amp;settings<sp/>=<sp/><ref refid="classGame_a1c1d1b4e98b065c0f48922219c1a84e1_1a1c1d1b4e98b065c0f48922219c1a84e1" kindref="member">s_settingsMan</ref>.<ref refid="classSettingsManager_a2634a5f2822112f9bf7cd42dcf440288_1a2634a5f2822112f9bf7cd42dcf440288" kindref="member">getSettings</ref>();</highlight></codeline>
<codeline lineno="216"><highlight class="normal"></highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>returnC0de<sp/>=<sp/>-1;</highlight></codeline>
<codeline lineno="218"><highlight class="normal"></highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>bActive<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>dt;</highlight></codeline>
<codeline lineno="221"><highlight class="normal"></highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>runFixedLoop<sp/>=<sp/>[</highlight><highlight class="keyword">this</highlight><highlight class="normal">]<sp/>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>dt<sp/>)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">constexpr</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>fixedUpdatesPerSecond<sp/>=<sp/>60;</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">constexpr</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>dtFixed<sp/>=<sp/>1.0f<sp/>/<sp/>fixedUpdatesPerSecond;</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">constexpr</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>maxFramesSkip<sp/>=<sp/>10;<sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>if<sp/>fps<sp/>drops<sp/>below<sp/>fixedUpdatesPerSecond<sp/>/<sp/>maxFramesSkip<sp/>the<sp/>actual<sp/>game<sp/>will<sp/>slow<sp/>down</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="227"><highlight class="normal"></highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>accumulator<sp/>=<sp/>0.0f;</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>accumulator<sp/>+=<sp/>dt;</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>accumulator<sp/>=<sp/>std::min(<sp/>accumulator,<sp/>2.0f<sp/>);<sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>prevent<sp/>huge<sp/>delta<sp/>times</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="231"><highlight class="normal"></highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>loops<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(<sp/>accumulator<sp/>&gt;=<sp/>dtFixed<sp/>&amp;&amp;<sp/>loops<sp/>&lt;<sp/>maxFramesSkip<sp/>)</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classSandbox3d_a03eb82b59c39e83118220b5a2bad9d0d_1a03eb82b59c39e83118220b5a2bad9d0d" kindref="member">updateFixed</ref>(<sp/>dtFixed<sp/>);</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>accumulator<sp/>-=<sp/>dtFixed;</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++loops;</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="239"><highlight class="normal"></highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>accumulator<sp/>/<sp/>dtFixed;</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="242"><highlight class="normal"></highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classGraphics" kindref="compound">Graphics</ref><sp/>&amp;gfx<sp/>=<sp/><ref refid="classGame_ab87c228ca9edcbc171aed5b0ffb2591a_1ab87c228ca9edcbc171aed5b0ffb2591a" kindref="member">m_mainWindow</ref>.<ref refid="classWindow_a7bfce0a1441d9a824b5469ae7de8c862_1a7bfce0a1441d9a824b5469ae7de8c862" kindref="member">getGraphics</ref>();</highlight></codeline>
<codeline lineno="244"><highlight class="normal"></highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal"><sp/>)</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>msgCode<sp/>=<sp/><ref refid="classGame_ab87c228ca9edcbc171aed5b0ffb2591a_1ab87c228ca9edcbc171aed5b0ffb2591a" kindref="member">m_mainWindow</ref>.<ref refid="classWindow_a1b5d1120e6ad1f4e078e2942dffd0041_1a1b5d1120e6ad1f4e078e2942dffd0041" kindref="member">messageLoop</ref>();</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>msgCode<sp/>)</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>*msgCode<sp/>==<sp/>0<sp/>)</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="255"><highlight class="normal"></highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>bActive<sp/>)</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dt<sp/>=<sp/><ref refid="classGame_a3953acd0d7eec863ee8f0cdda2e7a98d_1a3953acd0d7eec863ee8f0cdda2e7a98d" kindref="member">m_gameTimer</ref>.<ref refid="classKeyTimer_a8b4f14a4f7aa852923450db4885eff3e_1a8b4f14a4f7aa852923450db4885eff3e" kindref="member">lap</ref>()<sp/>*<sp/>settings.fGameSpeed;</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>returnC0de<sp/>=<sp/><ref refid="classSandbox3d_a7ac896c9f33a49a24ae47cdf6007f5a1_1a7ac896c9f33a49a24ae47cdf6007f5a1" kindref="member">checkInput</ref>(<sp/>dt<sp/>);</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>returnC0de<sp/>==<sp/>0<sp/>)</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>lerpBetweenFrames<sp/>=<sp/>runFixedLoop(<sp/>dt<sp/>);</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classSandbox3d_aac7b27aa253de8c2f127536da4249833_1aac7b27aa253de8c2f127536da4249833" kindref="member">update</ref>(<sp/>gfx,<sp/>dt,<sp/>lerpBetweenFrames<sp/>);</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classSandbox3d_a824771f328f2073b51ad89687d826d05_1a824771f328f2073b51ad89687d826d05" kindref="member">render</ref>(<sp/>gfx<sp/>);</highlight></codeline>
<codeline lineno="267"><highlight class="normal"></highlight></codeline>
<codeline lineno="268"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>FINAL_RELEASE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">using<sp/>namespace<sp/></highlight><highlight class="normal">std::string_literals;</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKeyConsole" kindref="compound">KeyConsole</ref><sp/>&amp;console<sp/>=<sp/><ref refid="classKeyConsole_a31cfe6a77156baf79a0a74ea338c6e18_1a31cfe6a77156baf79a0a74ea338c6e18" kindref="member">KeyConsole::getInstance</ref>();</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++settings.frameCount;</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::string<sp/>frameStats<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Frame<sp/>time<sp/>:<sp/>&quot;</highlight><highlight class="normal">s<sp/>+<sp/>std::to_string(<sp/>dt<sp/>)<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;ms.<sp/>Frame<sp/>&quot;</highlight><highlight class="normal">s<sp/>+<sp/>std::to_string(<sp/>settings.frameCount<sp/>)<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;\n&quot;</highlight><highlight class="normal">s;</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>console.<ref refid="classKeyConsole_a07362c63c978e15bb23d2a43ab697e3a_1a07362c63c978e15bb23d2a43ab697e3a" kindref="member">print</ref>(<sp/>frameStats<sp/>);</highlight></codeline>
<codeline lineno="274"><highlight class="normal"></highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classSandbox3d_a4b7094621086a4d13d7b5f47e5432ed5_1a4b7094621086a4d13d7b5f47e5432ed5" kindref="member">test</ref>(<sp/>gfx<sp/>);</highlight></codeline>
<codeline lineno="276"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classGame_a5703dfb57ce49ecfc644b9be76a65fa2_1a5703dfb57ce49ecfc644b9be76a65fa2" kindref="member">present</ref>(<sp/>gfx<sp/>);</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>game<sp/>is<sp/>minimized/out-of-focus</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKeyTimer_a36bdadbd57baf7541c0b7c01ed688599_1a36bdadbd57baf7541c0b7c01ed688599" kindref="member">SleepTimer::sleepFor</ref>(<sp/>10<sp/>);</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="285"><highlight class="normal"></highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>returnC0de;</highlight></codeline>
<codeline lineno="287"><highlight class="normal">}</highlight></codeline>
<codeline lineno="288"><highlight class="normal"></highlight></codeline>
<codeline lineno="289" refid="classSandbox3d_a7ac896c9f33a49a24ae47cdf6007f5a1_1a7ac896c9f33a49a24ae47cdf6007f5a1" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classSandbox3d_a7ac896c9f33a49a24ae47cdf6007f5a1_1a7ac896c9f33a49a24ae47cdf6007f5a1" kindref="member">Sandbox3d::checkInput</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>dt<sp/>)</highlight></codeline>
<codeline lineno="290"><highlight class="normal">{</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>&amp;keyboard<sp/>=<sp/><ref refid="classGame_ab87c228ca9edcbc171aed5b0ffb2591a_1ab87c228ca9edcbc171aed5b0ffb2591a" kindref="member">m_mainWindow</ref>.<ref refid="classWindow_af51b384330835f7ee8d0c3cb1254c4f8_1af51b384330835f7ee8d0c3cb1254c4f8" kindref="member">getKeyboard</ref>();</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>&amp;mouse<sp/>=<sp/><ref refid="classGame_ab87c228ca9edcbc171aed5b0ffb2591a_1ab87c228ca9edcbc171aed5b0ffb2591a" kindref="member">m_mainWindow</ref>.<ref refid="classWindow_a89e829c66c387dfca31d10b9806da751_1a89e829c66c387dfca31d10b9806da751" kindref="member">getMouse</ref>();</highlight></codeline>
<codeline lineno="293"><highlight class="normal"></highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>bCursorEnabled<sp/>=<sp/><ref refid="classGame_ab87c228ca9edcbc171aed5b0ffb2591a_1ab87c228ca9edcbc171aed5b0ffb2591a" kindref="member">m_mainWindow</ref>.<ref refid="classWindow_ae75c970afd77b9812f1fa3fc96549844_1ae75c970afd77b9812f1fa3fc96549844" kindref="member">isCursorEnabled</ref>();</highlight></codeline>
<codeline lineno="295"><highlight class="normal"></highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>ev<sp/>=<sp/>keyboard.readEventQueue()<sp/>)</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>!ev-&gt;isPressEvent()<sp/>)</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="302"><highlight class="normal"></highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal">(<sp/>ev-&gt;getKeycode()<sp/>)</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>VK_ESCAPE:</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>bCursorEnabled<sp/>)<sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>#TODO:<sp/>check<sp/>the<sp/>game<sp/>state<sp/>on<sp/>how<sp/>to<sp/>respond<sp/>not<sp/>whether<sp/>the<sp/>cursor<sp/>is<sp/>enabled</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classGame_a009cd108bf259503079139f647cec4d5_1a009cd108bf259503079139f647cec4d5" kindref="member">setState</ref>(<sp/>std::make_unique&lt;GameState&gt;(),<sp/>mouse<sp/>);</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classGame_a009cd108bf259503079139f647cec4d5_1a009cd108bf259503079139f647cec4d5" kindref="member">setState</ref>(<sp/>std::make_unique&lt;MenuState&gt;(),<sp/>mouse<sp/>);</highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="317"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>FINAL_RELEASE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>VK_F1:</highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classSandbox3d_a191078225e943c09db4647fdb0bdbf57_1a191078225e943c09db4647fdb0bdbf57" kindref="member">m_bShowDemoWindow</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="323"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>VK_F11:</highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>&amp;gfx<sp/>=<sp/><ref refid="classGame_ab87c228ca9edcbc171aed5b0ffb2591a_1ab87c228ca9edcbc171aed5b0ffb2591a" kindref="member">m_mainWindow</ref>.<ref refid="classWindow_a7bfce0a1441d9a824b5469ae7de8c862_1a7bfce0a1441d9a824b5469ae7de8c862" kindref="member">getGraphics</ref>();</highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>gfx.getDisplayMode()<sp/>)</highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gfx.resize(<sp/>1600,<sp/>900<sp/>);</highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gfx.resize(<sp/>0,<sp/>0<sp/>);</highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>VK_RETURN:</highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>&amp;gfx<sp/>=<sp/><ref refid="classGame_ab87c228ca9edcbc171aed5b0ffb2591a_1ab87c228ca9edcbc171aed5b0ffb2591a" kindref="member">m_mainWindow</ref>.<ref refid="classWindow_a7bfce0a1441d9a824b5469ae7de8c862_1a7bfce0a1441d9a824b5469ae7de8c862" kindref="member">getGraphics</ref>();</highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gfx.<ref refid="classGraphics_a2318eb0a55cbadf1eeeb7fe565b6b5cb_1a2318eb0a55cbadf1eeeb7fe565b6b5cb" kindref="member">getRenderer3d</ref>().<ref refid="classren_1_1Renderer3d_a90523c608900e18480728a104a04a88d_1a90523c608900e18480728a104a04a88d" kindref="member">dumpShadowMap</ref>(<sp/>gfx,<sp/></highlight><highlight class="stringliteral">&quot;dumps/shadow_&quot;</highlight><highlight class="normal"><sp/>);</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="comment">//switch</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="345"><highlight class="normal"></highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>camSpeed<sp/>=<sp/>keyboard.isKeyPressed(<sp/>VK_SHIFT<sp/>)<sp/>?<sp/>6.0f<sp/>:<sp/>1.0f;</highlight></codeline>
<codeline lineno="347"><highlight class="normal"></highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>&amp;activeCamera<sp/>=<sp/><ref refid="classSandbox3d_a368890d44d74ea1fbdd032f13d096bcf_1a368890d44d74ea1fbdd032f13d096bcf" kindref="member">s_cameraMan</ref>.<ref refid="classCameraManager_abdf764797cf31edf23ae92496b6dfcf1_1abdf764797cf31edf23ae92496b6dfcf1" kindref="member">getActiveCamera</ref>();</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>bCursorEnabled<sp/>)</highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>ev<sp/>=<sp/>mouse.readEventQueue()<sp/>)</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structgui_1_1Point" kindref="compound">gui::Point</ref><sp/>ui_point{mouse.getX(),<sp/>mouse.getY()};</highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>ev-&gt;isLmbPressed()<sp/>)</highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>#FIXME:<sp/>once<sp/>lmb<sp/>is<sp/>down<sp/>it<sp/>doesn&apos;t<sp/>go<sp/>up</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classSandbox3d_ac34f018134e5ee3c4078a1b8fbcf0289_1ac34f018134e5ee3c4078a1b8fbcf0289" kindref="member">m_gui</ref>-&gt;getRoot()-&gt;on_lmb_down(<sp/>dt,<sp/>ui_point<sp/>);</highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>ev-&gt;isRmbPressed()<sp/>)</highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classSandbox3d_ac34f018134e5ee3c4078a1b8fbcf0289_1ac34f018134e5ee3c4078a1b8fbcf0289" kindref="member">m_gui</ref>-&gt;getRoot()-&gt;on_rmb_down(<sp/>dt,<sp/>ui_point<sp/>);</highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>keyboard.isKeyPressed(<sp/></highlight><highlight class="charliteral">&apos;W&apos;</highlight><highlight class="normal"><sp/>)<sp/>)</highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>activeCamera.translateRel(<sp/>DirectX::XMFLOAT3{0.0f,<sp/>0.0f,<sp/>dt<sp/>*<sp/>camSpeed}<sp/>);</highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>keyboard.isKeyPressed(<sp/></highlight><highlight class="charliteral">&apos;A&apos;</highlight><highlight class="normal"><sp/>)<sp/>)</highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>activeCamera.translateRel(<sp/>{-dt<sp/>*<sp/>camSpeed,<sp/>0.0f,<sp/>0.0f}<sp/>);</highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>keyboard.isKeyPressed(<sp/></highlight><highlight class="charliteral">&apos;S&apos;</highlight><highlight class="normal"><sp/>)<sp/>)</highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>activeCamera.translateRel(<sp/>{0.0f,<sp/>0.0f,<sp/>-dt<sp/>*<sp/>camSpeed}<sp/>);</highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>keyboard.isKeyPressed(<sp/></highlight><highlight class="charliteral">&apos;D&apos;</highlight><highlight class="normal"><sp/>)<sp/>)</highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>activeCamera.translateRel(<sp/>{dt<sp/>*<sp/>camSpeed,<sp/>0.0f,<sp/>0.0f}<sp/>);</highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>keyboard.isKeyPressed(<sp/></highlight><highlight class="charliteral">&apos;E&apos;</highlight><highlight class="normal"><sp/>)<sp/>)</highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>activeCamera.translateRel(<sp/>{0.0f,<sp/>dt<sp/>*<sp/>camSpeed,<sp/>0.0f}<sp/>);</highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>keyboard.isKeyPressed(<sp/></highlight><highlight class="charliteral">&apos;Q&apos;</highlight><highlight class="normal"><sp/>)<sp/>)</highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>activeCamera.translateRel(<sp/>{0.0f,<sp/>-dt<sp/>*<sp/>camSpeed,<sp/>0.0f}<sp/>);</highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>keyboard.isKeyPressed(<sp/>VK_BACK<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="396"><highlight class="normal"></highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>rotate<sp/>Camera<sp/>if<sp/>in<sp/>game<sp/>mode</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>&amp;delta<sp/>=<sp/>mouse.readRawDeltaBuffer()<sp/>)</highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>!<ref refid="classGame_ab87c228ca9edcbc171aed5b0ffb2591a_1ab87c228ca9edcbc171aed5b0ffb2591a" kindref="member">m_mainWindow</ref>.<ref refid="classWindow_ae75c970afd77b9812f1fa3fc96549844_1ae75c970afd77b9812f1fa3fc96549844" kindref="member">isCursorEnabled</ref>()<sp/>)</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>activeCamera.rotateRel(<sp/>dt<sp/>*<sp/>camSpeed<sp/>*<sp/>delta-&gt;m_dx,<sp/>dt<sp/>*<sp/>camSpeed<sp/>*<sp/>delta-&gt;m_dy<sp/>);</highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="405"><highlight class="normal"></highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>1;</highlight></codeline>
<codeline lineno="407"><highlight class="normal">}</highlight></codeline>
<codeline lineno="408"><highlight class="normal"></highlight></codeline>
<codeline lineno="409" refid="classSandbox3d_aac7b27aa253de8c2f127536da4249833_1aac7b27aa253de8c2f127536da4249833" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classSandbox3d_aac7b27aa253de8c2f127536da4249833_1aac7b27aa253de8c2f127536da4249833" kindref="member">Sandbox3d::update</ref>(<sp/><ref refid="classGraphics" kindref="compound">Graphics</ref><sp/>&amp;gfx,</highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>dt,</highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>lerpBetweenFrames<sp/>)</highlight></codeline>
<codeline lineno="412"><highlight class="normal">{</highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>&amp;settings<sp/>=<sp/><ref refid="classGame_a1c1d1b4e98b065c0f48922219c1a84e1_1a1c1d1b4e98b065c0f48922219c1a84e1" kindref="member">s_settingsMan</ref>.<ref refid="classSettingsManager_a2634a5f2822112f9bf7cd42dcf440288_1a2634a5f2822112f9bf7cd42dcf440288" kindref="member">getSettings</ref>();</highlight></codeline>
<codeline lineno="414"><highlight class="normal"></highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>&amp;activeCamera<sp/>=<sp/><ref refid="classSandbox3d_a368890d44d74ea1fbdd032f13d096bcf_1a368890d44d74ea1fbdd032f13d096bcf" kindref="member">s_cameraMan</ref>.<ref refid="classCameraManager_abdf764797cf31edf23ae92496b6dfcf1_1abdf764797cf31edf23ae92496b6dfcf1" kindref="member">getActiveCamera</ref>();</highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/>activeCamera.<ref refid="classCamera_afa376be968f4fbe01a9085749cbe42fa_1afa376be968f4fbe01a9085749cbe42fa" kindref="member">makeActive</ref>(<sp/>gfx<sp/>);</highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/><sp/><sp/>gfx.<ref refid="classGraphics_a2318eb0a55cbadf1eeeb7fe565b6b5cb_1a2318eb0a55cbadf1eeeb7fe565b6b5cb" kindref="member">getRenderer3d</ref>().<ref refid="classren_1_1Renderer3d_acddc17f633ab9b1ff8e10b44fe564c49_1acddc17f633ab9b1ff8e10b44fe564c49" kindref="member">setActiveCamera</ref>(<sp/>activeCamera<sp/>);</highlight></codeline>
<codeline lineno="418"><highlight class="normal"></highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//if<sp/>(<sp/>util::modulus(<sp/>gfx.getFrameNum(),<sp/>g_nFramesPerShadowUpdate<sp/>)<sp/>==<sp/>0<sp/>)<sp/><sp/>//<sp/>#optimization:<sp/>no<sp/>need<sp/>to<sp/>update<sp/>shadows<sp/>every<sp/>frame</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::sort(<sp/><ref refid="classSandbox3d_af7589b53c5b5361ee9fac406aae38e1f_1af7589b53c5b5361ee9fac406aae38e1f" kindref="member">m_lights</ref>.begin(),<sp/><ref refid="classSandbox3d_af7589b53c5b5361ee9fac406aae38e1f_1af7589b53c5b5361ee9fac406aae38e1f" kindref="member">m_lights</ref>.end(),<sp/>[]<sp/>(std::unique_ptr&lt;ILightSource&gt;<sp/>&amp;lhs,<sp/>std::unique_ptr&lt;ILightSource&gt;<sp/>&amp;rhs)</highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>shadow-casting<sp/>lights<sp/>come<sp/>first</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>const<sp/>unsigned<sp/>lhsShadowCasting<sp/>=<sp/>lhs-&gt;isCastingShadows()<sp/>?<sp/>0<sp/>:<sp/>1;</highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>const<sp/>unsigned<sp/>rhsShadowCasting<sp/>=<sp/>rhs-&gt;isCastingShadows()<sp/>?<sp/>0<sp/>:<sp/>1;</highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(<sp/>lhsShadowCasting<sp/>!=<sp/>rhsShadowCasting<sp/>)</highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>lhsShadowCasting<sp/>&lt;<sp/>rhsShadowCasting;</highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="430"><highlight class="normal"></highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>non-frustum<sp/>culled<sp/>lights<sp/>come<sp/>second</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>lhsFrustumCulled<sp/>=<sp/>lhs-&gt;isFrustumCulled()<sp/>?<sp/>1<sp/>:<sp/>0;</highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>rhsFrustumCulled<sp/>=<sp/>rhs-&gt;isFrustumCulled()<sp/>?<sp/>1<sp/>:<sp/>0;</highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(<sp/>lhsFrustumCulled<sp/>!=<sp/>rhsFrustumCulled<sp/>)</highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>lhsFrustumCulled<sp/>&lt;<sp/>rhsFrustumCulled;</highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="438"><highlight class="normal"></highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>ordering<sp/>by<sp/>type<sp/>of<sp/>light:<sp/>1.<sp/>Directional<sp/>Lights,<sp/>2.<sp/>Spot-lights,<sp/>3.<sp/>Point<sp/>lights</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>lhsLightTypeId<sp/>=<sp/>(unsigned)<sp/>lhs-&gt;getType();</highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>rhsLightTypeId<sp/>=<sp/>(unsigned)<sp/>rhs-&gt;getType();</highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>lhsLightTypeId<sp/>!=<sp/>rhsLightTypeId<sp/>)</highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>lhsLightTypeId<sp/>&lt;<sp/>rhsLightTypeId;</highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="446"><highlight class="normal"></highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/>);</highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="450"><highlight class="normal"></highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>&amp;pLight<sp/>:<sp/>m_lights<sp/>)</highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pLight-&gt;update(<sp/>gfx,<sp/>dt,<sp/>lerpBetweenFrames,<sp/>settings.bEnableSmoothMovement<sp/>);</highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="455"><highlight class="normal"></highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/>m_terrain.update(<sp/>dt,<sp/>lerpBetweenFrames,<sp/>settings.bEnableSmoothMovement<sp/>);</highlight></codeline>
<codeline lineno="457"><highlight class="normal"></highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>&amp;model<sp/>:<sp/>m_models<sp/>)</highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>model.update(<sp/>dt,<sp/>lerpBetweenFrames,<sp/>settings.bEnableSmoothMovement<sp/>);</highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="462"><highlight class="normal"></highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>&amp;mouse<sp/>=<sp/>m_mainWindow.getMouse();</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structgui_1_1Point" kindref="compound">gui::Point</ref><sp/>ui_point{mouse.getX(),<sp/>mouse.getY()};</highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/>m_gui-&gt;update(<sp/>dt,<sp/>ui_point,<sp/>lerpBetweenFrames<sp/>);</highlight></codeline>
<codeline lineno="466"><highlight class="normal">}</highlight></codeline>
<codeline lineno="467"><highlight class="normal"></highlight></codeline>
<codeline lineno="468" refid="classSandbox3d_a03eb82b59c39e83118220b5a2bad9d0d_1a03eb82b59c39e83118220b5a2bad9d0d" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classSandbox3d_a03eb82b59c39e83118220b5a2bad9d0d_1a03eb82b59c39e83118220b5a2bad9d0d" kindref="member">Sandbox3d::updateFixed</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>dt<sp/>)</highlight></codeline>
<codeline lineno="469"><highlight class="normal">{</highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>used<sp/>for<sp/>stuff<sp/>that<sp/>need<sp/>to<sp/>be<sp/>in-step<sp/>with<sp/>the<sp/>physics<sp/>engine,<sp/>in<sp/>order<sp/>to<sp/>guarantee<sp/>a<sp/>deterministic<sp/>timestep<sp/>that<sp/>is<sp/>independent<sp/>of<sp/>the<sp/>frame-rate<sp/>dt</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>apply<sp/>continuous<sp/>forces<sp/>here<sp/>(but<sp/>an<sp/>instantaneous<sp/>impulse<sp/>like<sp/>a<sp/>character<sp/>jumping<sp/>can<sp/>and<sp/>should<sp/>be<sp/>done<sp/>in<sp/>update<sp/>instead<sp/>after<sp/>input<sp/>detects<sp/>it)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>also<sp/>animation<sp/>that<sp/>pertains<sp/>to<sp/>gameplay<sp/>(or<sp/>physics)<sp/>should<sp/>be<sp/>done<sp/>here<sp/>(eg<sp/>character<sp/>animation<sp/>in<sp/>multiplayer<sp/>game)<sp/>if<sp/>you<sp/>care<sp/>about<sp/>fairness</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="473"><highlight class="normal">}</highlight></codeline>
<codeline lineno="474"><highlight class="normal"></highlight></codeline>
<codeline lineno="475" refid="classSandbox3d_a824771f328f2073b51ad89687d826d05_1a824771f328f2073b51ad89687d826d05" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classSandbox3d_a824771f328f2073b51ad89687d826d05_1a824771f328f2073b51ad89687d826d05" kindref="member">Sandbox3d::render</ref>(<sp/><ref refid="classGraphics" kindref="compound">Graphics</ref><sp/>&amp;gfx<sp/>)</highlight></codeline>
<codeline lineno="476"><highlight class="normal">{</highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/>gfx.<ref refid="classGraphics_ac25c31fbc763dc6970ae9c730b441129_1ac25c31fbc763dc6970ae9c730b441129" kindref="member">beginFrame</ref>();</highlight></codeline>
<codeline lineno="478"><highlight class="normal"></highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classSandbox3d_a368890d44d74ea1fbdd032f13d096bcf_1a368890d44d74ea1fbdd032f13d096bcf" kindref="member">s_cameraMan</ref>.<ref refid="classCameraManager_ab38254a7e009c21fdb7577c1e9b090e7_1ab38254a7e009c21fdb7577c1e9b090e7" kindref="member">render</ref>(<sp/><ref refid="namespacerch_a2e8849c8ce6b8977aaffe7f9dc10509d_1a2e8849c8ce6b8977aaffe7f9dc10509d" kindref="member">rch::opaque</ref><sp/>|<sp/><ref refid="namespacerch_ae9aab41aed08ca289f4ef687d97f8708_1ae9aab41aed08ca289f4ef687d97f8708" kindref="member">rch::wireframe</ref><sp/>);</highlight></codeline>
<codeline lineno="480"><highlight class="normal"></highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>&amp;pLight<sp/>:<sp/><ref refid="classSandbox3d_af7589b53c5b5361ee9fac406aae38e1f_1af7589b53c5b5361ee9fac406aae38e1f" kindref="member">m_lights</ref><sp/>)</highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pLight-&gt;render(<sp/><ref refid="namespacerch_a2e8849c8ce6b8977aaffe7f9dc10509d_1a2e8849c8ce6b8977aaffe7f9dc10509d" kindref="member">rch::opaque</ref><sp/>);</highlight></codeline>
<codeline lineno="484"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="485"><highlight class="normal"></highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classSandbox3d_a7b5627929bab105b5915d7c6918415a6_1a7b5627929bab105b5915d7c6918415a6" kindref="member">m_terrain</ref>.<ref refid="classModel_aa33a40fb50f074d5928c15c82074a0b6_1aa33a40fb50f074d5928c15c82074a0b6" kindref="member">render</ref>(<sp/><ref refid="namespacerch_a2e8849c8ce6b8977aaffe7f9dc10509d_1a2e8849c8ce6b8977aaffe7f9dc10509d" kindref="member">rch::opaque</ref><sp/>|<sp/><ref refid="namespacerch_ae9aab41aed08ca289f4ef687d97f8708_1ae9aab41aed08ca289f4ef687d97f8708" kindref="member">rch::wireframe</ref><sp/>);</highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>&amp;model<sp/>:<sp/><ref refid="classSandbox3d_a683ca51ea3203622f85d573331a08679_1a683ca51ea3203622f85d573331a08679" kindref="member">m_models</ref><sp/>)</highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>model.render();</highlight></codeline>
<codeline lineno="490"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="491"><highlight class="normal"></highlight></codeline>
<codeline lineno="492"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//if<sp/>(<sp/>util::modulus(<sp/>gfx.getFrameNum(),<sp/>g_nFramesPerShadowUpdate<sp/>)<sp/>==<sp/>1<sp/>)<sp/><sp/>//<sp/>#optimization:<sp/>no<sp/>need<sp/>to<sp/>update<sp/>shadows<sp/>every<sp/>frame</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>&amp;settings<sp/>=<sp/><ref refid="classGame_a1c1d1b4e98b065c0f48922219c1a84e1_1a1c1d1b4e98b065c0f48922219c1a84e1" kindref="member">s_settingsMan</ref>.<ref refid="classSettingsManager_a2634a5f2822112f9bf7cd42dcf440288_1a2634a5f2822112f9bf7cd42dcf440288" kindref="member">getSettings</ref>();</highlight></codeline>
<codeline lineno="495"><highlight class="normal"></highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::vector&lt;ILightSource*&gt;<sp/>shadowCastingUnculledLights;</highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>shadowCastingUnculledLights.reserve(<sp/>settings.iMaxShadowCastingDynamicLights<sp/>);</highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>&amp;pLight<sp/>:<sp/><ref refid="classSandbox3d_af7589b53c5b5361ee9fac406aae38e1f_1af7589b53c5b5361ee9fac406aae38e1f" kindref="member">m_lights</ref><sp/>)</highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>pLight-&gt;isCastingShadows()<sp/>&amp;&amp;<sp/>!pLight-&gt;isFrustumCulled()<sp/>)</highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>shadowCastingUnculledLights.push_back(<sp/>pLight.get()<sp/>);</highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="505"><highlight class="normal"></highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gfx.<ref refid="classGraphics_a2318eb0a55cbadf1eeeb7fe565b6b5cb_1a2318eb0a55cbadf1eeeb7fe565b6b5cb" kindref="member">getRenderer3d</ref>().<ref refid="classren_1_1Renderer3d_a659726953a58885d70e1f74a5da7b278_1a659726953a58885d70e1f74a5da7b278" kindref="member">bindShadowCastingLights</ref>(<sp/>gfx,<sp/>shadowCastingUnculledLights<sp/>);</highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="508"><highlight class="normal"></highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/><sp/>gfx.<ref refid="classGraphics_a48c55f80bdfdba34f8282ddc4c656e8a_1a48c55f80bdfdba34f8282ddc4c656e8a" kindref="member">runRenderer</ref>();</highlight></codeline>
<codeline lineno="510"><highlight class="normal"></highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classSandbox3d_ac34f018134e5ee3c4078a1b8fbcf0289_1ac34f018134e5ee3c4078a1b8fbcf0289" kindref="member">m_gui</ref>-&gt;render(<sp/>gfx<sp/>);</highlight></codeline>
<codeline lineno="512"><highlight class="normal">}</highlight></codeline>
<codeline lineno="513"><highlight class="normal"></highlight></codeline>
<codeline lineno="514" refid="classSandbox3d_a4b7094621086a4d13d7b5f47e5432ed5_1a4b7094621086a4d13d7b5f47e5432ed5" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classSandbox3d_a4b7094621086a4d13d7b5f47e5432ed5_1a4b7094621086a4d13d7b5f47e5432ed5" kindref="member">Sandbox3d::test</ref>(<sp/><ref refid="classGraphics" kindref="compound">Graphics</ref><sp/>&amp;gfx<sp/>)</highlight></codeline>
<codeline lineno="515"><highlight class="normal">{</highlight></codeline>
<codeline lineno="516"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>FINAL_RELEASE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">using<sp/>namespace<sp/></highlight><highlight class="normal">std::string_literals;</highlight></codeline>
<codeline lineno="518"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//KeyConsole<sp/>&amp;console<sp/>=<sp/>KeyConsole::getInstance();</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="519"><highlight class="normal"></highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//const<sp/>BindableRegistry<sp/>&amp;instanceToBeInspected<sp/>=<sp/>BindableRegistry::getInstance();</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//console.print(<sp/>&quot;BindableRegistry<sp/>instance<sp/>count:<sp/>&quot;s<sp/>+<sp/>std::to_string(<sp/>BindableRegistry::getInstanceCount()<sp/>)<sp/>+<sp/>&quot;\n&quot;s<sp/>);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="522"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//console.print(<sp/>&quot;BindableRegistry<sp/>garbage<sp/>count:<sp/>&quot;s<sp/>+<sp/>std::to_string(<sp/>BindableRegistry::getGarbageCount()<sp/>)<sp/>+<sp/>&quot;\n&quot;s<sp/>);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="523"><highlight class="normal"></highlight></codeline>
<codeline lineno="524"><highlight class="normal"></highlight></codeline>
<codeline lineno="525"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//const<sp/>auto<sp/>&amp;carabiner<sp/>=<sp/><sp/>m_models.back();</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="526"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//if<sp/>(s1.find(s2)<sp/>!=<sp/>std::string::npos)<sp/>{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="527"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>std::cout<sp/>&lt;&lt;<sp/>&quot;found!&quot;<sp/>&lt;&lt;<sp/>&apos;\n&apos;;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="528"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//if<sp/>(<sp/>carabiner.getName()<sp/>==<sp/><sp/>)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="530"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//console.print(<sp/>&quot;Current<sp/>distance<sp/>from<sp/>carabiner:<sp/>&quot;s<sp/>+<sp/>std::to_string(<sp/><sp/>m_carabiner.getDistanceFromActiveCamera()<sp/>)<sp/>+<sp/>&quot;\n&quot;s<sp/>);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="531"><highlight class="normal"></highlight></codeline>
<codeline lineno="533"><highlight class="normal"></highlight></codeline>
<codeline lineno="534"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>showcase<sp/>Material<sp/>controls<sp/>by<sp/>passing<sp/>visitors<sp/>to<sp/>the<sp/>object<sp/>hierarchies</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="535"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classSandbox3d_a368890d44d74ea1fbdd032f13d096bcf_1a368890d44d74ea1fbdd032f13d096bcf" kindref="member">s_cameraMan</ref>.<ref refid="classCameraManager_a41a699cd43fdb81d7a8b93ca8b9867ee_1a41a699cd43fdb81d7a8b93ca8b9867ee" kindref="member">displayImguiWidgets</ref>(<sp/>gfx<sp/>);</highlight></codeline>
<codeline lineno="536"><highlight class="normal"></highlight></codeline>
<codeline lineno="537"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>&amp;light<sp/>:<sp/><ref refid="classSandbox3d_af7589b53c5b5361ee9fac406aae38e1f_1af7589b53c5b5361ee9fac406aae38e1f" kindref="member">m_lights</ref><sp/>)</highlight></codeline>
<codeline lineno="538"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>light-&gt;displayImguiWidgets();</highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="541"><highlight class="normal"></highlight></codeline>
<codeline lineno="542"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classSandbox3d_a7b5627929bab105b5915d7c6918415a6_1a7b5627929bab105b5915d7c6918415a6" kindref="member">m_terrain</ref>.<ref refid="classModel_a5c541a8bb0012d4cbb64f2cb809f1638_1a5c541a8bb0012d4cbb64f2cb809f1638" kindref="member">displayImguiWidgets</ref>(<sp/>gfx<sp/>);</highlight></codeline>
<codeline lineno="543"><highlight class="normal"></highlight></codeline>
<codeline lineno="544"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>&amp;model<sp/>:<sp/><ref refid="classSandbox3d_a683ca51ea3203622f85d573331a08679_1a683ca51ea3203622f85d573331a08679" kindref="member">m_models</ref><sp/>)</highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="546"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>model.displayImguiWidgets(<sp/>gfx<sp/>);</highlight></codeline>
<codeline lineno="547"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="548"><highlight class="normal"></highlight></codeline>
<codeline lineno="549"><highlight class="normal"><sp/><sp/><sp/><sp/>gfx.<ref refid="classGraphics_a2318eb0a55cbadf1eeeb7fe565b6b5cb_1a2318eb0a55cbadf1eeeb7fe565b6b5cb" kindref="member">getRenderer3d</ref>().<ref refid="classren_1_1Renderer3d_a20dbdf95b09beca6a94150c8f4f7466f_1a20dbdf95b09beca6a94150c8f4f7466f" kindref="member">displayImguiWidgets</ref>(<sp/>gfx<sp/>);</highlight></codeline>
<codeline lineno="550"><highlight class="normal"></highlight></codeline>
<codeline lineno="551"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/><ref refid="classSandbox3d_a191078225e943c09db4647fdb0bdbf57_1a191078225e943c09db4647fdb0bdbf57" kindref="member">m_bShowDemoWindow</ref><sp/>)</highlight></codeline>
<codeline lineno="552"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="553"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ImGui::ShowDemoWindow(<sp/>&amp;<ref refid="classSandbox3d_a191078225e943c09db4647fdb0bdbf57_1a191078225e943c09db4647fdb0bdbf57" kindref="member">m_bShowDemoWindow</ref><sp/>);</highlight></codeline>
<codeline lineno="554"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="555"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="556"><highlight class="normal">}</highlight></codeline>
<codeline lineno="557"><highlight class="normal"></highlight></codeline>
<codeline lineno="558" refid="classSandbox3d_a976cec295e8116ae7cfb237e5c8c2cf6_1a976cec295e8116ae7cfb237e5c8c2cf6" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classSandbox3d_a976cec295e8116ae7cfb237e5c8c2cf6_1a976cec295e8116ae7cfb237e5c8c2cf6" kindref="member">Sandbox3d::connectToRenderer</ref>(<sp/><ref refid="classren_1_1Renderer3d" kindref="compound">ren::Renderer3d</ref><sp/>&amp;renderer<sp/>)</highlight></codeline>
<codeline lineno="559"><highlight class="normal">{</highlight></codeline>
<codeline lineno="560"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classSandbox3d_a368890d44d74ea1fbdd032f13d096bcf_1a368890d44d74ea1fbdd032f13d096bcf" kindref="member">s_cameraMan</ref>.<ref refid="classCameraManager_ad457347093fe6fae1d65b1a3d6324fd5_1ad457347093fe6fae1d65b1a3d6324fd5" kindref="member">connectMaterialsToRenderer</ref>(<sp/>renderer<sp/>);</highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>&amp;pLight<sp/>:<sp/><ref refid="classSandbox3d_af7589b53c5b5361ee9fac406aae38e1f_1af7589b53c5b5361ee9fac406aae38e1f" kindref="member">m_lights</ref><sp/>)</highlight></codeline>
<codeline lineno="562"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pLight-&gt;connectMaterialsToRenderer(<sp/>renderer<sp/>);</highlight></codeline>
<codeline lineno="564"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="565"><highlight class="normal"></highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classSandbox3d_a7b5627929bab105b5915d7c6918415a6_1a7b5627929bab105b5915d7c6918415a6" kindref="member">m_terrain</ref>.<ref refid="classModel_a026f7d322b40a3488184d711962d92c2_1a026f7d322b40a3488184d711962d92c2" kindref="member">connectMaterialsToRenderer</ref>(<sp/>renderer<sp/>);</highlight></codeline>
<codeline lineno="567"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classSandbox3d_a7b5627929bab105b5915d7c6918415a6_1a7b5627929bab105b5915d7c6918415a6" kindref="member">m_terrain</ref>.<ref refid="classModel_ad9673dfef4bf662ef742ea17b7704099_1ad9673dfef4bf662ef742ea17b7704099" kindref="member">setMaterialEnabled</ref>(<sp/><ref refid="namespacerch_a2e8849c8ce6b8977aaffe7f9dc10509d_1a2e8849c8ce6b8977aaffe7f9dc10509d" kindref="member">rch::opaque</ref>,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal"><sp/>);</highlight></codeline>
<codeline lineno="568"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>&amp;model<sp/>:<sp/><ref refid="classSandbox3d_a683ca51ea3203622f85d573331a08679_1a683ca51ea3203622f85d573331a08679" kindref="member">m_models</ref><sp/>)</highlight></codeline>
<codeline lineno="569"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="570"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>model.connectMaterialsToRenderer(<sp/>renderer<sp/>);</highlight></codeline>
<codeline lineno="571"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="572"><highlight class="normal">}</highlight></codeline>
<codeline lineno="573"><highlight class="normal"></highlight></codeline>
<codeline lineno="575" refid="classArkanoid_ac5e6e6e2c99b5e0f56fd002a872cbb9b_1ac5e6e6e2c99b5e0f56fd002a872cbb9b" refkind="member"><highlight class="normal"><ref refid="classArkanoid_ac5e6e6e2c99b5e0f56fd002a872cbb9b_1ac5e6e6e2c99b5e0f56fd002a872cbb9b" kindref="member">Arkanoid::Arkanoid</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>width,</highlight></codeline>
<codeline lineno="576"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>height,</highlight></codeline>
<codeline lineno="577"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>x,</highlight></codeline>
<codeline lineno="578"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>y<sp/>)</highlight></codeline>
<codeline lineno="579"><highlight class="normal"><sp/><sp/><sp/><sp/>:</highlight></codeline>
<codeline lineno="580"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classGame" kindref="compound">Game</ref>(width,<sp/>height,<sp/></highlight><highlight class="stringliteral">&quot;Arkanoid&quot;</highlight><highlight class="normal">,<sp/>x,<sp/>y),</highlight></codeline>
<codeline lineno="581"><highlight class="normal"><sp/><sp/><sp/><sp/>m_ball(<ref refid="namespaceDirectX" kindref="compound">dx</ref>::XMFLOAT2{450.0f,<sp/>450.0f},<sp/><ref refid="namespaceDirectX" kindref="compound">dx</ref>::XMFLOAT2{-300.0f,<sp/>-300.0f}),</highlight></codeline>
<codeline lineno="582"><highlight class="normal"><sp/><sp/><sp/><sp/>m_walls(<ref refid="classRectangleF" kindref="compound">RectangleF</ref>(0.0f,<sp/>(float)width,<sp/>0.0f,<sp/>(float)height)),</highlight></codeline>
<codeline lineno="583"><highlight class="normal"><sp/><sp/><sp/><sp/>m_paddle(<ref refid="namespaceDirectX" kindref="compound">dx</ref>::XMFLOAT2(400.0f,<sp/>550.0f),<sp/>40.0f,<sp/>8.0f,<sp/><ref refid="namespacecol" kindref="compound">col</ref>::Cyan,<sp/><ref refid="namespacecol" kindref="compound">col</ref>::Orange),</highlight></codeline>
<codeline lineno="584"><highlight class="normal"><sp/><sp/><sp/><sp/>m_brickSound(</highlight><highlight class="stringliteral">&quot;assets/sfx/arkanoid_brick.wav&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Arkanoid<sp/>Brick&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="585"><highlight class="normal"><sp/><sp/><sp/><sp/>m_padSound(</highlight><highlight class="stringliteral">&quot;assets/sfx/arkanoid_pad.wav&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Arkanoid<sp/>Pad&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="586"><highlight class="normal">{</highlight></codeline>
<codeline lineno="587"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>set<sp/>bricks<sp/>starting<sp/>positions<sp/>and<sp/>assign<sp/>different<sp/>color<sp/>for<sp/>each<sp/>brick<sp/>row</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="588"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structColorBGRA" kindref="compound">ColorBGRA</ref><sp/>colors[4]<sp/>=<sp/>{<ref refid="namespacecol_ae3fdad4cb1fa3b2277b0198deb74e4a6_1ae3fdad4cb1fa3b2277b0198deb74e4a6" kindref="member">col::Red</ref>,<sp/><ref refid="namespacecol_aa6804fd0ed17a6f54b378590bbe51fee_1aa6804fd0ed17a6f54b378590bbe51fee" kindref="member">col::Green</ref>,<sp/><ref refid="namespacecol_a089867e8885138220fd686f036354c3e_1a089867e8885138220fd686f036354c3e" kindref="member">col::Blue</ref>,<sp/><ref refid="namespacecol_a76e85dc4d139270c4e9044464f54d150_1a76e85dc4d139270c4e9044464f54d150" kindref="member">col::Gold</ref>};</highlight></codeline>
<codeline lineno="589"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>dx::XMFLOAT2<sp/>topLeft{40.0f,<sp/>40.0f};</highlight></codeline>
<codeline lineno="590"><highlight class="normal"></highlight></codeline>
<codeline lineno="591"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0,<sp/>yi<sp/>=<sp/>0;<sp/>yi<sp/>&lt;<sp/><ref refid="classArkanoid_a2b1848153ec306cbf4e3e00cddfcaa91_1a2b1848153ec306cbf4e3e00cddfcaa91" kindref="member">s_nBricksVertically</ref>;<sp/>++yi<sp/>)</highlight></codeline>
<codeline lineno="592"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="593"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structColorBGRA" kindref="compound">ColorBGRA</ref><sp/>rowCol<sp/>=<sp/>colors[yi];</highlight></codeline>
<codeline lineno="594"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>xi<sp/>=<sp/>0;<sp/>xi<sp/>&lt;<sp/><ref refid="classArkanoid_ac0a2975c8fcedc33bdad55ad71ff6cde_1ac0a2975c8fcedc33bdad55ad71ff6cde" kindref="member">s_nBricksHorizontally</ref>;<sp/>++xi<sp/>)</highlight></codeline>
<codeline lineno="595"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="596"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>curBrickTopLeftOffset<sp/>=<sp/>dx::XMFLOAT2{xi<sp/>*<sp/><ref refid="classArkanoid_a74f9842d78b2faae8f2662d46c5eb08c_1a74f9842d78b2faae8f2662d46c5eb08c" kindref="member">s_brickWidth</ref>,<sp/>yi<sp/>*<sp/><ref refid="classArkanoid_a6da861a7f56756c6f81e8260c03a37ee_1a6da861a7f56756c6f81e8260c03a37ee" kindref="member">s_brickHeight</ref>};</highlight></codeline>
<codeline lineno="597"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classArkanoid_a8362af3e3610991a5457d0d21764f21f_1a8362af3e3610991a5457d0d21764f21f" kindref="member">m_bricks</ref>[i]<sp/>=<sp/>Brick{<ref refid="classRectangleF" kindref="compound">RectangleF</ref>{dx::XMFLOAT2{topLeft.x<sp/>+<sp/>curBrickTopLeftOffset.x,<sp/>topLeft.y<sp/>+<sp/>curBrickTopLeftOffset.y},<sp/><ref refid="classArkanoid_a74f9842d78b2faae8f2662d46c5eb08c_1a74f9842d78b2faae8f2662d46c5eb08c" kindref="member">s_brickWidth</ref>,<sp/><ref refid="classArkanoid_a6da861a7f56756c6f81e8260c03a37ee_1a6da861a7f56756c6f81e8260c03a37ee" kindref="member">s_brickHeight</ref>},<sp/>rowCol};</highlight></codeline>
<codeline lineno="598"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++i;</highlight></codeline>
<codeline lineno="599"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="600"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="601"><highlight class="normal">}</highlight></codeline>
<codeline lineno="602"><highlight class="normal"></highlight></codeline>
<codeline lineno="603" refid="classArkanoid_a9a1f1afe82238ca3c10bf890a977a436_1a9a1f1afe82238ca3c10bf890a977a436" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classArkanoid_a9a1f1afe82238ca3c10bf890a977a436_1a9a1f1afe82238ca3c10bf890a977a436" kindref="member">Arkanoid::loop</ref>()</highlight></codeline>
<codeline lineno="604"><highlight class="normal">{</highlight></codeline>
<codeline lineno="605"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>returnC0de<sp/>=<sp/>-1;</highlight></codeline>
<codeline lineno="606"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classGraphics" kindref="compound">Graphics</ref><sp/>&amp;gfx<sp/>=<sp/><ref refid="classGame_ab87c228ca9edcbc171aed5b0ffb2591a_1ab87c228ca9edcbc171aed5b0ffb2591a" kindref="member">m_mainWindow</ref>.<ref refid="classWindow_a7bfce0a1441d9a824b5469ae7de8c862_1a7bfce0a1441d9a824b5469ae7de8c862" kindref="member">getGraphics</ref>();</highlight></codeline>
<codeline lineno="607"><highlight class="normal"></highlight></codeline>
<codeline lineno="608"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classGame_a3953acd0d7eec863ee8f0cdda2e7a98d_1a3953acd0d7eec863ee8f0cdda2e7a98d" kindref="member">m_gameTimer</ref>.<ref refid="classKeyTimer_ab8ce8e8658a0ea7c9b5ab4028bc7b777_1ab8ce8e8658a0ea7c9b5ab4028bc7b777" kindref="member">start</ref>();</highlight></codeline>
<codeline lineno="609"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal"><sp/>)</highlight></codeline>
<codeline lineno="610"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="611"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>exitCode<sp/>=<sp/><ref refid="classGame_ab87c228ca9edcbc171aed5b0ffb2591a_1ab87c228ca9edcbc171aed5b0ffb2591a" kindref="member">m_mainWindow</ref>.<ref refid="classWindow_a1b5d1120e6ad1f4e078e2942dffd0041_1a1b5d1120e6ad1f4e078e2942dffd0041" kindref="member">messageLoop</ref>();</highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>exitCode<sp/>)</highlight></codeline>
<codeline lineno="613"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="614"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>*exitCode<sp/>==<sp/>0<sp/>)</highlight></codeline>
<codeline lineno="615"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="616"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="617"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="618"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="619"><highlight class="normal"></highlight></codeline>
<codeline lineno="620"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>dt<sp/>=<sp/><ref refid="classArkanoid_aed6248f1d49ee4d132d1b087c394b4a1_1aed6248f1d49ee4d132d1b087c394b4a1" kindref="member">calcDt</ref>();</highlight></codeline>
<codeline lineno="621"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>returnC0de<sp/>=<sp/><ref refid="classArkanoid_a4379be977be5c4dd083be67438cf70ab_1a4379be977be5c4dd083be67438cf70ab" kindref="member">checkInput</ref>(<sp/>dt<sp/>);</highlight></codeline>
<codeline lineno="622"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>returnC0de<sp/>==<sp/>0<sp/>)</highlight></codeline>
<codeline lineno="623"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="624"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="625"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="626"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classArkanoid_a5aea992cd4e9a1d0fad1d5308c444b20_1a5aea992cd4e9a1d0fad1d5308c444b20" kindref="member">update</ref>(<sp/>gfx,<sp/>dt<sp/>);</highlight></codeline>
<codeline lineno="627"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classArkanoid_a8f5ce76dfb2c9b342004ecb6754d0af9_1a8f5ce76dfb2c9b342004ecb6754d0af9" kindref="member">render</ref>(<sp/>gfx<sp/>);</highlight></codeline>
<codeline lineno="628"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>defined<sp/>_DEBUG<sp/>&amp;&amp;<sp/>!defined<sp/>NDEBUG</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="629"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classArkanoid_a9a0a31805757fe6af97b3d3ae2e5cd8f_1a9a0a31805757fe6af97b3d3ae2e5cd8f" kindref="member">test</ref>();</highlight></codeline>
<codeline lineno="630"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="631"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classGame_a5703dfb57ce49ecfc644b9be76a65fa2_1a5703dfb57ce49ecfc644b9be76a65fa2" kindref="member">present</ref>(<sp/>gfx<sp/>);</highlight></codeline>
<codeline lineno="632"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="633"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>returnC0de;</highlight></codeline>
<codeline lineno="634"><highlight class="normal">}</highlight></codeline>
<codeline lineno="635"><highlight class="normal"></highlight></codeline>
<codeline lineno="636" refid="classArkanoid_aed6248f1d49ee4d132d1b087c394b4a1_1aed6248f1d49ee4d132d1b087c394b4a1" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="classArkanoid_aed6248f1d49ee4d132d1b087c394b4a1_1aed6248f1d49ee4d132d1b087c394b4a1" kindref="member">Arkanoid::calcDt</ref>()</highlight></codeline>
<codeline lineno="637"><highlight class="normal">{</highlight></codeline>
<codeline lineno="638"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>&amp;settings<sp/>=<sp/><ref refid="classGame_a1c1d1b4e98b065c0f48922219c1a84e1_1a1c1d1b4e98b065c0f48922219c1a84e1" kindref="member">s_settingsMan</ref>.<ref refid="classSettingsManager_a2634a5f2822112f9bf7cd42dcf440288_1a2634a5f2822112f9bf7cd42dcf440288" kindref="member">getSettings</ref>();</highlight></codeline>
<codeline lineno="639"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>dt<sp/>=<sp/><ref refid="classGame_a3953acd0d7eec863ee8f0cdda2e7a98d_1a3953acd0d7eec863ee8f0cdda2e7a98d" kindref="member">m_gameTimer</ref>.<ref refid="classKeyTimer_a8b4f14a4f7aa852923450db4885eff3e_1a8b4f14a4f7aa852923450db4885eff3e" kindref="member">lap</ref>()<sp/>*<sp/>settings.fGameSpeed;</highlight></codeline>
<codeline lineno="640"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>dt;</highlight></codeline>
<codeline lineno="641"><highlight class="normal">}</highlight></codeline>
<codeline lineno="642"><highlight class="normal"></highlight></codeline>
<codeline lineno="643" refid="classArkanoid_a4379be977be5c4dd083be67438cf70ab_1a4379be977be5c4dd083be67438cf70ab" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classArkanoid_a4379be977be5c4dd083be67438cf70ab_1a4379be977be5c4dd083be67438cf70ab" kindref="member">Arkanoid::checkInput</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>dt<sp/>)</highlight></codeline>
<codeline lineno="644"><highlight class="normal">{</highlight></codeline>
<codeline lineno="645"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>&amp;keyboard<sp/>=<sp/><ref refid="classGame_ab87c228ca9edcbc171aed5b0ffb2591a_1ab87c228ca9edcbc171aed5b0ffb2591a" kindref="member">m_mainWindow</ref>.<ref refid="classWindow_af51b384330835f7ee8d0c3cb1254c4f8_1af51b384330835f7ee8d0c3cb1254c4f8" kindref="member">getKeyboard</ref>();</highlight></codeline>
<codeline lineno="646"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>&amp;mouse<sp/>=<sp/><ref refid="classGame_ab87c228ca9edcbc171aed5b0ffb2591a_1ab87c228ca9edcbc171aed5b0ffb2591a" kindref="member">m_mainWindow</ref>.<ref refid="classWindow_a89e829c66c387dfca31d10b9806da751_1a89e829c66c387dfca31d10b9806da751" kindref="member">getMouse</ref>();</highlight></codeline>
<codeline lineno="647"><highlight class="normal"></highlight></codeline>
<codeline lineno="648"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>process<sp/>any<sp/>keyboard<sp/>events</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="649"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>ev<sp/>=<sp/>keyboard.readEventQueue()<sp/>)</highlight></codeline>
<codeline lineno="650"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="651"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>!ev-&gt;isPressEvent()<sp/>)</highlight></codeline>
<codeline lineno="652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="653"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="654"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="655"><highlight class="normal"></highlight></codeline>
<codeline lineno="656"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal">(<sp/>ev-&gt;getKeycode()<sp/>)</highlight></codeline>
<codeline lineno="657"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="658"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>VK_ESCAPE:</highlight></codeline>
<codeline lineno="659"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/><ref refid="classGame_ab87c228ca9edcbc171aed5b0ffb2591a_1ab87c228ca9edcbc171aed5b0ffb2591a" kindref="member">m_mainWindow</ref>.<ref refid="classWindow_ae75c970afd77b9812f1fa3fc96549844_1ae75c970afd77b9812f1fa3fc96549844" kindref="member">isCursorEnabled</ref>()<sp/>)</highlight></codeline>
<codeline lineno="661"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="662"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classGame_a009cd108bf259503079139f647cec4d5_1a009cd108bf259503079139f647cec4d5" kindref="member">setState</ref>(<sp/>std::make_unique&lt;GameState&gt;(),<sp/>mouse<sp/>);</highlight></codeline>
<codeline lineno="663"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="664"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="665"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="666"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classGame_a009cd108bf259503079139f647cec4d5_1a009cd108bf259503079139f647cec4d5" kindref="member">setState</ref>(<sp/>std::make_unique&lt;MenuState&gt;(),<sp/>mouse<sp/>);</highlight></codeline>
<codeline lineno="667"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="668"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="669"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="670"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="671"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="672"><highlight class="normal"></highlight></codeline>
<codeline lineno="673"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>keyboard.isKeyPressed(<sp/>VK_LEFT<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="674"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="675"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classArkanoid_aa09befbdcf2694757c196ddddc9342f7_1aa09befbdcf2694757c196ddddc9342f7" kindref="member">m_paddle</ref>.setTranslationRel(<sp/>-<ref refid="classArkanoid_a8908c70d851b4d033a433f56fefd3cb9_1a8908c70d851b4d033a433f56fefd3cb9" kindref="member">s_speed</ref><sp/>*<sp/>dt<sp/>);</highlight></codeline>
<codeline lineno="676"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="677"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>keyboard.isKeyPressed(<sp/>VK_RIGHT<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="678"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="679"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classArkanoid_aa09befbdcf2694757c196ddddc9342f7_1aa09befbdcf2694757c196ddddc9342f7" kindref="member">m_paddle</ref>.setTranslationRel(<sp/><ref refid="classArkanoid_a8908c70d851b4d033a433f56fefd3cb9_1a8908c70d851b4d033a433f56fefd3cb9" kindref="member">s_speed</ref><sp/>*<sp/>dt<sp/>);</highlight></codeline>
<codeline lineno="680"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="681"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>keyboard.isKeyPressed(<sp/>VK_BACK<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="682"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="683"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="684"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="685"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>1;</highlight></codeline>
<codeline lineno="686"><highlight class="normal">}</highlight></codeline>
<codeline lineno="687"><highlight class="normal"></highlight></codeline>
<codeline lineno="688" refid="classArkanoid_a5aea992cd4e9a1d0fad1d5308c444b20_1a5aea992cd4e9a1d0fad1d5308c444b20" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classArkanoid_a5aea992cd4e9a1d0fad1d5308c444b20_1a5aea992cd4e9a1d0fad1d5308c444b20" kindref="member">Arkanoid::update</ref>(<sp/><ref refid="classGraphics" kindref="compound">Graphics</ref><sp/>&amp;gfx,</highlight></codeline>
<codeline lineno="689"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>dt<sp/>)</highlight></codeline>
<codeline lineno="690"><highlight class="normal">{</highlight></codeline>
<codeline lineno="691"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classArkanoid_a7958fd92736829e2948526a306d73c5b_1a7958fd92736829e2948526a306d73c5b" kindref="member">m_ball</ref>.update(<sp/>dt<sp/>);</highlight></codeline>
<codeline lineno="692"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classArkanoid_aa09befbdcf2694757c196ddddc9342f7_1aa09befbdcf2694757c196ddddc9342f7" kindref="member">m_paddle</ref>.doWallCollision(<sp/><ref refid="classArkanoid_af0b7086266974482c8c4004206e2e3ec_1af0b7086266974482c8c4004206e2e3ec" kindref="member">m_walls</ref><sp/>);</highlight></codeline>
<codeline lineno="693"><highlight class="normal"></highlight></codeline>
<codeline lineno="694"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>bCollided<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="695"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>currentColDist<sp/>=<sp/>999999.999f;</highlight></codeline>
<codeline lineno="696"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>curColBrickIndex;</highlight></codeline>
<codeline lineno="697"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/><ref refid="classArkanoid_a440786b314ca4ce573d8b442fbed623e_1a440786b314ca4ce573d8b442fbed623e" kindref="member">s_nBricks</ref>;<sp/>++i<sp/>)</highlight></codeline>
<codeline lineno="698"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="699"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/><ref refid="classArkanoid_a8362af3e3610991a5457d0d21764f21f_1a8362af3e3610991a5457d0d21764f21f" kindref="member">m_bricks</ref>[i].checkForBallCollision(<sp/><ref refid="classArkanoid_a7958fd92736829e2948526a306d73c5b_1a7958fd92736829e2948526a306d73c5b" kindref="member">m_ball</ref><sp/>)<sp/>)</highlight></codeline>
<codeline lineno="700"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="701"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>newCollisionDistance;</highlight></codeline>
<codeline lineno="702"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>brickCenter<sp/>=<sp/><ref refid="classArkanoid_a8362af3e3610991a5457d0d21764f21f_1a8362af3e3610991a5457d0d21764f21f" kindref="member">m_bricks</ref>[i].calcCenter();</highlight></codeline>
<codeline lineno="703"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dx::XMStoreFloat(<sp/>&amp;newCollisionDistance,<sp/>dx::XMVector2LengthSq(<sp/>dx::XMVectorSubtract(<sp/>dx::XMLoadFloat2(<sp/>&amp;<ref refid="classArkanoid_a7958fd92736829e2948526a306d73c5b_1a7958fd92736829e2948526a306d73c5b" kindref="member">m_ball</ref>.getPosition()<sp/>),<sp/>dx::XMLoadFloat2(<sp/>&amp;brickCenter<sp/>)<sp/>)<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="704"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>bCollided<sp/>)</highlight></codeline>
<codeline lineno="705"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight><highlight class="comment">//<sp/>limit<sp/>to<sp/>one<sp/>collision<sp/>per<sp/>frame</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="706"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>newCollisionDistance<sp/>&lt;<sp/>currentColDist<sp/>)</highlight></codeline>
<codeline lineno="707"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="708"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>currentColDist<sp/>=<sp/>newCollisionDistance;</highlight></codeline>
<codeline lineno="709"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>curColBrickIndex<sp/>=<sp/>i;</highlight></codeline>
<codeline lineno="710"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="711"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="712"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="713"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="714"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>currentColDist<sp/>=<sp/>newCollisionDistance;</highlight></codeline>
<codeline lineno="715"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>curColBrickIndex<sp/>=<sp/>i;</highlight></codeline>
<codeline lineno="716"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bCollided<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="717"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="718"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="719"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="720"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>bCollided<sp/>)</highlight></codeline>
<codeline lineno="721"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="722"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classArkanoid_aa09befbdcf2694757c196ddddc9342f7_1aa09befbdcf2694757c196ddddc9342f7" kindref="member">m_paddle</ref>.resetCollisionCooldown();</highlight></codeline>
<codeline lineno="723"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classArkanoid_a8362af3e3610991a5457d0d21764f21f_1a8362af3e3610991a5457d0d21764f21f" kindref="member">m_bricks</ref>[curColBrickIndex].doBallCollision(<sp/><ref refid="classArkanoid_a7958fd92736829e2948526a306d73c5b_1a7958fd92736829e2948526a306d73c5b" kindref="member">m_ball</ref><sp/>);</highlight></codeline>
<codeline lineno="724"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classArkanoid_a3d031ce7e7b3e0b89f8df0c0d9610cf2_1a3d031ce7e7b3e0b89f8df0c0d9610cf2" kindref="member">m_brickSound</ref>.<ref refid="classSound_a5f01178c19bf0948cfba57b3692d1808_1a5f01178c19bf0948cfba57b3692d1808" kindref="member">play</ref>();</highlight></codeline>
<codeline lineno="725"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="726"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>end<sp/>ball<sp/>collision<sp/>with<sp/>bricks</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="727"><highlight class="normal"></highlight></codeline>
<codeline lineno="728"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/><ref refid="classArkanoid_aa09befbdcf2694757c196ddddc9342f7_1aa09befbdcf2694757c196ddddc9342f7" kindref="member">m_paddle</ref>.doBallCollision(<sp/><ref refid="classArkanoid_a7958fd92736829e2948526a306d73c5b_1a7958fd92736829e2948526a306d73c5b" kindref="member">m_ball</ref><sp/>)<sp/>)</highlight></codeline>
<codeline lineno="729"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="730"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classArkanoid_a169e2497e7dddf0f4334d243778731b1_1a169e2497e7dddf0f4334d243778731b1" kindref="member">m_padSound</ref>.<ref refid="classSound_a5f01178c19bf0948cfba57b3692d1808_1a5f01178c19bf0948cfba57b3692d1808" kindref="member">play</ref>();</highlight></codeline>
<codeline lineno="731"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="732"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/><ref refid="classArkanoid_a7958fd92736829e2948526a306d73c5b_1a7958fd92736829e2948526a306d73c5b" kindref="member">m_ball</ref>.doWallCollision(<sp/><ref refid="classArkanoid_af0b7086266974482c8c4004206e2e3ec_1af0b7086266974482c8c4004206e2e3ec" kindref="member">m_walls</ref><sp/>)<sp/>)</highlight></codeline>
<codeline lineno="733"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="734"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classArkanoid_aa09befbdcf2694757c196ddddc9342f7_1aa09befbdcf2694757c196ddddc9342f7" kindref="member">m_paddle</ref>.resetCollisionCooldown();</highlight></codeline>
<codeline lineno="735"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classArkanoid_a169e2497e7dddf0f4334d243778731b1_1a169e2497e7dddf0f4334d243778731b1" kindref="member">m_padSound</ref>.<ref refid="classSound_a5f01178c19bf0948cfba57b3692d1808_1a5f01178c19bf0948cfba57b3692d1808" kindref="member">play</ref>();</highlight></codeline>
<codeline lineno="736"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="737"><highlight class="normal">}</highlight></codeline>
<codeline lineno="738"><highlight class="normal"></highlight></codeline>
<codeline lineno="739" refid="classArkanoid_a8f5ce76dfb2c9b342004ecb6754d0af9_1a8f5ce76dfb2c9b342004ecb6754d0af9" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classArkanoid_a8f5ce76dfb2c9b342004ecb6754d0af9_1a8f5ce76dfb2c9b342004ecb6754d0af9" kindref="member">Arkanoid::render</ref>(<sp/><ref refid="classGraphics" kindref="compound">Graphics</ref><sp/>&amp;gfx<sp/>)</highlight></codeline>
<codeline lineno="740"><highlight class="normal">{</highlight></codeline>
<codeline lineno="741"><highlight class="normal"><sp/><sp/><sp/><sp/>gfx.<ref refid="classGraphics_ac25c31fbc763dc6970ae9c730b441129_1ac25c31fbc763dc6970ae9c730b441129" kindref="member">beginFrame</ref>();</highlight></codeline>
<codeline lineno="742"><highlight class="normal"></highlight></codeline>
<codeline lineno="743"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classArkanoid_a7958fd92736829e2948526a306d73c5b_1a7958fd92736829e2948526a306d73c5b" kindref="member">m_ball</ref>.render(<sp/>gfx<sp/>);</highlight></codeline>
<codeline lineno="744"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>Brick<sp/>&amp;b<sp/>:<sp/><ref refid="classArkanoid_a8362af3e3610991a5457d0d21764f21f_1a8362af3e3610991a5457d0d21764f21f" kindref="member">m_bricks</ref><sp/>)</highlight></codeline>
<codeline lineno="745"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="746"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>b.render(<sp/>gfx<sp/>);</highlight></codeline>
<codeline lineno="747"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="748"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classArkanoid_aa09befbdcf2694757c196ddddc9342f7_1aa09befbdcf2694757c196ddddc9342f7" kindref="member">m_paddle</ref>.render(<sp/>gfx<sp/>);</highlight></codeline>
<codeline lineno="749"><highlight class="normal"></highlight></codeline>
<codeline lineno="750"><highlight class="normal"><sp/><sp/><sp/><sp/>gfx.<ref refid="classGraphics_a48c55f80bdfdba34f8282ddc4c656e8a_1a48c55f80bdfdba34f8282ddc4c656e8a" kindref="member">runRenderer</ref>();</highlight></codeline>
<codeline lineno="751"><highlight class="normal">}</highlight></codeline>
<codeline lineno="752"><highlight class="normal"></highlight></codeline>
<codeline lineno="753" refid="classArkanoid_a9a0a31805757fe6af97b3d3ae2e5cd8f_1a9a0a31805757fe6af97b3d3ae2e5cd8f" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classArkanoid_a9a0a31805757fe6af97b3d3ae2e5cd8f_1a9a0a31805757fe6af97b3d3ae2e5cd8f" kindref="member">Arkanoid::test</ref>()</highlight></codeline>
<codeline lineno="754"><highlight class="normal">{</highlight></codeline>
<codeline lineno="755"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>defined<sp/>_DEBUG<sp/>&amp;&amp;<sp/>!defined<sp/>NDEBUG</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="756"><highlight class="normal"><sp/><sp/><sp/><sp/>pass_;</highlight></codeline>
<codeline lineno="757"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="758"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="src/game.cpp"/>
  </compounddef>
</doxygen>
