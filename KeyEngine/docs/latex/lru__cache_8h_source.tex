\doxysection{lru\+\_\+cache.\+h}
\hypertarget{lru__cache_8h_source}{}\label{lru__cache_8h_source}\index{inc/lru\_cache.h@{inc/lru\_cache.h}}
\mbox{\hyperlink{lru__cache_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <list>}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <unordered\_map>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{comment}{//=============================================================}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ \ \(\backslash\)class\ \ LRUCache}}
\DoxyCodeLine{00010\ \textcolor{comment}{//\ \ \(\backslash\)author\ KeyC0de}}
\DoxyCodeLine{00011\ \textcolor{comment}{//\ \ \(\backslash\)date\ \ \ 2022/02/22\ 23:34}}
\DoxyCodeLine{00012\ \textcolor{comment}{//\ \ \(\backslash\)brief\ \ A\ data\ structure\ which\ can\ store\ a\ max\ amount\ of\ key-\/value\ pairs}}
\DoxyCodeLine{00013\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ the\ list\ stores\ the\ data}}
\DoxyCodeLine{00014\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ to\ find\ them\ fast\ a\ hash\ table\ stores\ references\ to\ each\ value\ in\ the\ cache}}
\DoxyCodeLine{00015\ \textcolor{comment}{//=============================================================}}
\DoxyCodeLine{00016\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00017\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classLRUCache}{LRUCache}}}
\DoxyCodeLine{00018\ \{}
\DoxyCodeLine{00019\ \ \ \ \ std::list<T>\ \mbox{\hyperlink{classLRUCache_a3ccd2c2550a8e99e24409e9e41f97b40_a3ccd2c2550a8e99e24409e9e41f97b40}{m\_list}};}
\DoxyCodeLine{00020\ \ \ \ \ std::unordered\_map<T,\ typename\ std::list<T>::const\_iterator>\ \mbox{\hyperlink{classLRUCache_a9d6a0dc0f63cfa035ec23f9fdb7c13ba_a9d6a0dc0f63cfa035ec23f9fdb7c13ba}{m\_map}};}
\DoxyCodeLine{00021\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classLRUCache_ae8fdd866a0a93dcc741fdea58be0abec_ae8fdd866a0a93dcc741fdea58be0abec}{m\_maxSize}};}
\DoxyCodeLine{00022\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00023\ \ \ \ \ \mbox{\hyperlink{classLRUCache_a2d658ad308b7ddd3930fad756fa9a44b_a2d658ad308b7ddd3930fad756fa9a44b}{LRUCache}}(\ \textcolor{keywordtype}{int}\ maxSize\ )}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classLRUCache_ae8fdd866a0a93dcc741fdea58be0abec_ae8fdd866a0a93dcc741fdea58be0abec}{m\_maxSize}}\{maxSize\}}
\DoxyCodeLine{00026\ \ \ \ \ \{}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \ \ \ \ \}}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \ \ \ \ \textcolor{comment}{//===================================================}}
\DoxyCodeLine{00031\ \ \ \ \ \textcolor{comment}{//\ \ \(\backslash\)function\ \ \ find}}
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{comment}{//\ \ \(\backslash\)brief\ \ refers\ element\ x\ with\ in\ the\ LRU\ cache}}
\DoxyCodeLine{00033\ \ \ \ \ \textcolor{comment}{//\ \ \(\backslash\)date\ \ \ 2022/07/30\ 21:08}}
\DoxyCodeLine{00034\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classLRUCache_a950b676d0cb865c887f3901f218f2a0e_a950b676d0cb865c887f3901f218f2a0e}{find}}(\ T\ x\ )}
\DoxyCodeLine{00035\ \ \ \ \ \{}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{classLRUCache_a9d6a0dc0f63cfa035ec23f9fdb7c13ba_a9d6a0dc0f63cfa035ec23f9fdb7c13ba}{m\_map}}.find(\ x\ )\ ==\ \mbox{\hyperlink{classLRUCache_a9d6a0dc0f63cfa035ec23f9fdb7c13ba_a9d6a0dc0f63cfa035ec23f9fdb7c13ba}{m\_map}}.end()\ )}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ not\ present\ in\ cache}}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{classLRUCache_a3ccd2c2550a8e99e24409e9e41f97b40_a3ccd2c2550a8e99e24409e9e41f97b40}{m\_list}}.size()\ ==\ \mbox{\hyperlink{classLRUCache_ae8fdd866a0a93dcc741fdea58be0abec_ae8fdd866a0a93dcc741fdea58be0abec}{m\_maxSize}}\ )}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ cache\ is\ full\ so\ delete\ least\ recently\ used\ element}}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ T\ last\ =\ \mbox{\hyperlink{classLRUCache_a3ccd2c2550a8e99e24409e9e41f97b40_a3ccd2c2550a8e99e24409e9e41f97b40}{m\_list}}.back();}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classLRUCache_a3ccd2c2550a8e99e24409e9e41f97b40_a3ccd2c2550a8e99e24409e9e41f97b40}{m\_list}}.pop\_back();}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classLRUCache_a9d6a0dc0f63cfa035ec23f9fdb7c13ba_a9d6a0dc0f63cfa035ec23f9fdb7c13ba}{m\_map}}.erase(\ last\ );}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classLRUCache_a3ccd2c2550a8e99e24409e9e41f97b40_a3ccd2c2550a8e99e24409e9e41f97b40}{m\_list}}.erase(\ \mbox{\hyperlink{classLRUCache_a9d6a0dc0f63cfa035ec23f9fdb7c13ba_a9d6a0dc0f63cfa035ec23f9fdb7c13ba}{m\_map}}[x]\ );}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ update\ reference}}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classLRUCache_a3ccd2c2550a8e99e24409e9e41f97b40_a3ccd2c2550a8e99e24409e9e41f97b40}{m\_list}}.push\_front(\ x\ );}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classLRUCache_a9d6a0dc0f63cfa035ec23f9fdb7c13ba_a9d6a0dc0f63cfa035ec23f9fdb7c13ba}{m\_map}}[x]\ =\ \mbox{\hyperlink{classLRUCache_a3ccd2c2550a8e99e24409e9e41f97b40_a3ccd2c2550a8e99e24409e9e41f97b40}{m\_list}}.cbegin();}
\DoxyCodeLine{00055\ \ \ \ \ \}}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classLRUCache_af93af58bad8c06c7a48a56ef89a3272e_af93af58bad8c06c7a48a56ef89a3272e}{display}}()}
\DoxyCodeLine{00058\ \ \ \ \ \{}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\ \textcolor{keyword}{auto}\ it\ =\ \mbox{\hyperlink{classLRUCache_a3ccd2c2550a8e99e24409e9e41f97b40_a3ccd2c2550a8e99e24409e9e41f97b40}{m\_list}}.cbegin();\ it\ !=\ \mbox{\hyperlink{classLRUCache_a3ccd2c2550a8e99e24409e9e41f97b40_a3ccd2c2550a8e99e24409e9e41f97b40}{m\_list}}.cend();\ ++it\ )}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ (\ *it\ )\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ std::cout\ <<\ std::endl;}
\DoxyCodeLine{00064\ \ \ \ \ \}}
\DoxyCodeLine{00065\ \};}

\end{DoxyCode}
