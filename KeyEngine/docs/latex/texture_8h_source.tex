\doxysection{texture.\+h}
\hypertarget{texture_8h_source}{}\label{texture_8h_source}\index{inc/texture.h@{inc/texture.h}}
\mbox{\hyperlink{texture_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{key__wrl_8h}{key\_wrl.h}}"{}}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{bindable_8h}{bindable.h}}"{}}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{bitmap_8h}{bitmap.h}}"{}}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{render__target_8h}{render\_target.h}}"{}}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{depth__stencil__view_8h}{depth\_stencil\_view.h}}"{}}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classGraphics}{Graphics}};}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{keyword}{using\ }\mbox{\hyperlink{texture_8h_a48efc2b83d04747965ce26c7eb8d406c_a48efc2b83d04747965ce26c7eb8d406c}{TextureOp}}\ =\ DirectX::XMVECTOR(*)(\mbox{\hyperlink{classBitmap_a83b763f52f32144764bf50ba22c3c080_a83b763f52f32144764bf50ba22c3c080}{Bitmap::Texel}});}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classTexture}{Texture}}}
\DoxyCodeLine{00016\ \ \ \ \ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classIBindable}{IBindable}}}
\DoxyCodeLine{00017\ \{}
\DoxyCodeLine{00018\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classTexture_a891a27933cfc6deafcc3597ee9cfe07f_a891a27933cfc6deafcc3597ee9cfe07f}{m\_bAlpha}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00019\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classTexture_a938db0f8e54d3817b1ffaecd5370ef1d_a938db0f8e54d3817b1ffaecd5370ef1d}{m\_bDynamic}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00020\ \ \ \ \ std::string\ \mbox{\hyperlink{classTexture_a3dd6dde05fca6bd7f4ab08b3a6307959_a3dd6dde05fca6bd7f4ab08b3a6307959}{m\_path}};}
\DoxyCodeLine{00021\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{classTexture_ac243c2a4552bc0af19b5b1ea812ce9ee_ac243c2a4552bc0af19b5b1ea812ce9ee}{m\_width}};}
\DoxyCodeLine{00022\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{classTexture_ae8f4dc92aa7350d5e5805c520834604f_ae8f4dc92aa7350d5e5805c520834604f}{m\_height}};}
\DoxyCodeLine{00023\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classTexture_a80f9298671ae47c264992268f659287c_a80f9298671ae47c264992268f659287c}{m\_slot}};}
\DoxyCodeLine{00024\ \ \ \ \ \mbox{\hyperlink{texture_8h_a48efc2b83d04747965ce26c7eb8d406c_a48efc2b83d04747965ce26c7eb8d406c}{TextureOp}}\ \mbox{\hyperlink{classTexture_abbf21618c668cdaeba940ca5e4c203a8_abbf21618c668cdaeba940ca5e4c203a8}{m\_op}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00025\ \ \ \ \ Microsoft::WRL::ComPtr<ID3D11Texture2D>\ \mbox{\hyperlink{classTexture_a88b470c8fc311e910af1627fa44b51eb_a88b470c8fc311e910af1627fa44b51eb}{m\_pTex}};}
\DoxyCodeLine{00026\ \ \ \ \ Microsoft::WRL::ComPtr<ID3D11ShaderResourceView>\ \mbox{\hyperlink{classTexture_a6e38a7b24e9a8eb8714b8ce86e8305c8_a6e38a7b24e9a8eb8714b8ce86e8305c8}{m\_pD3dSrv}};}
\DoxyCodeLine{00027\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00028\ \ \ \ \ \mbox{\hyperlink{classTexture_a0331ea0fa1111565a77e34930527aa9f_a0331ea0fa1111565a77e34930527aa9f}{Texture}}(\ \mbox{\hyperlink{classGraphics}{Graphics}}\ \&gfx,\ \textcolor{keyword}{const}\ std::string\ \&filepath,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ slot,\ \mbox{\hyperlink{texture_8h_a48efc2b83d04747965ce26c7eb8d406c_a48efc2b83d04747965ce26c7eb8d406c}{TextureOp}}\ op\ =\ \textcolor{keyword}{nullptr}\ );}
\DoxyCodeLine{00030\ \ \ \ \ \mbox{\hyperlink{classTexture_a0331ea0fa1111565a77e34930527aa9f_a0331ea0fa1111565a77e34930527aa9f}{Texture}}(\ \mbox{\hyperlink{classGraphics}{Graphics}}\ \&gfx,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ width,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ height,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ slot,\ \mbox{\hyperlink{texture_8h_a48efc2b83d04747965ce26c7eb8d406c_a48efc2b83d04747965ce26c7eb8d406c}{TextureOp}}\ op\ =\ \textcolor{keyword}{nullptr}\ );}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classTexture_a9f0969925008410870590127fdf960ce_a9f0969925008410870590127fdf960ce}{paintTextureWithBitmap}}(\ \mbox{\hyperlink{classGraphics}{Graphics}}\ \&gfx,\ ID3D11Texture2D\ *tex,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classBitmap}{Bitmap}}\ \&bitmap,\ \textcolor{keyword}{const}\ D3D11\_BOX\ *destPortion\ =\ \textcolor{keyword}{nullptr}\ );}
\DoxyCodeLine{00033\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classTexture_a352000d68cf402ecbc94f2c802a80c48_a352000d68cf402ecbc94f2c802a80c48}{bind}}(\ \mbox{\hyperlink{classGraphics}{Graphics}}\ \&gfx\ )\ cond\_noex\ \textcolor{keyword}{override};}
\DoxyCodeLine{00034\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classTexture_ae3518498a4665623f5af7c8468552041_ae3518498a4665623f5af7c8468552041}{update}}(\ \mbox{\hyperlink{classGraphics}{Graphics}}\ \&gfx\ )\ cond\_noex;}
\DoxyCodeLine{00035\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classTexture_a715fd642d50db2d070999d5f4cc3879b_a715fd642d50db2d070999d5f4cc3879b}{hasAlpha}}()\ const\ noexcept;}
\DoxyCodeLine{00036\ \ \ \ \ const\ std::\textcolor{keywordtype}{string}\&\ \mbox{\hyperlink{classTexture_aff8d7e3c74f035ccd2161ee662fdd615_aff8d7e3c74f035ccd2161ee662fdd615}{getPath}}()\ const\ noexcept;}
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{classTexture_a052fba7fdc48d8ab6aa3dd7b0733685e_a052fba7fdc48d8ab6aa3dd7b0733685e}{getWidth}}()\ const\ noexcept;}
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{classTexture_ab783ec34f0deb747df517619c86942ba_ab783ec34f0deb747df517619c86942ba}{getHeight}}()\ const\ noexcept;}
\DoxyCodeLine{00039\ \ \ \ \ Microsoft::WRL::ComPtr<ID3D11ShaderResourceView>\&\ \mbox{\hyperlink{classTexture_afdb1a6d1c899f3619d19fefeeea0de40_afdb1a6d1c899f3619d19fefeeea0de40}{getD3dSrv}}();}
\DoxyCodeLine{00040\ \ \ \ \ static\ std::shared\_ptr<\mbox{\hyperlink{classTexture}{Texture}}>\ \mbox{\hyperlink{classTexture_a9a7654906f9ca05ca82c96f1f2da576e_a9a7654906f9ca05ca82c96f1f2da576e}{fetch}}(\ \mbox{\hyperlink{classGraphics}{Graphics}}\ \&gfx,\ const\ std::\textcolor{keywordtype}{string}\ \&filepath,\ const\ \textcolor{keywordtype}{unsigned}\ slot,\ \mbox{\hyperlink{texture_8h_a48efc2b83d04747965ce26c7eb8d406c_a48efc2b83d04747965ce26c7eb8d406c}{TextureOp}}\ op\ =\ \textcolor{keywordtype}{nullptr}\ );}
\DoxyCodeLine{00041\ \ \ \ \ static\ std::\textcolor{keywordtype}{string}\ \mbox{\hyperlink{classTexture_a72e33b3324d9429f293e843b517ac357_a72e33b3324d9429f293e843b517ac357}{calcUid}}(\ const\ std::\textcolor{keywordtype}{string}\ \&filepath,\ const\ \textcolor{keywordtype}{unsigned}\ slot,\ \mbox{\hyperlink{texture_8h_a48efc2b83d04747965ce26c7eb8d406c_a48efc2b83d04747965ce26c7eb8d406c}{TextureOp}}\ op\ =\ \textcolor{keywordtype}{nullptr}\ );}
\DoxyCodeLine{00042\ \ \ \ \ std::\textcolor{keywordtype}{string}\ \mbox{\hyperlink{classTexture_a628d855d2087b4a03c00f781290b26fa_a628d855d2087b4a03c00f781290b26fa}{getUid}}()\ const\ noexcept\ override;}
\DoxyCodeLine{00043\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{classTexture_a9637f3b195ad4156f4c35dc6b6c7633c_a9637f3b195ad4156f4c35dc6b6c7633c}{getSlot}}()\ const\ noexcept;}
\DoxyCodeLine{00044\ \};}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00052\ class\ \mbox{\hyperlink{classTextureOffscreenRT}{TextureOffscreenRT}}}
\DoxyCodeLine{00053\ \ \ \ \ :\ public\ \mbox{\hyperlink{classIBindable}{IBindable}}}
\DoxyCodeLine{00054\ \{}
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classTextureOffscreenRT_aaedecd2208f87ce77b6e87e5c03ee19d_aaedecd2208f87ce77b6e87e5c03ee19d}{m\_slot}};}
\DoxyCodeLine{00056\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00057\ \ \ \ \ Microsoft::WRL::ComPtr<ID3D11ShaderResourceView>\ \mbox{\hyperlink{classTextureOffscreenRT_afc1033b02b280efdf51050f586c98ddf_afc1033b02b280efdf51050f586c98ddf}{m\_pD3dSrv}};}
\DoxyCodeLine{00058\ \ \ \ \ std::shared\_ptr<RenderTargetOutput>\ \mbox{\hyperlink{classTextureOffscreenRT_ac30cfccbdba1046d26d3c4c3af5e379e_ac30cfccbdba1046d26d3c4c3af5e379e}{m\_pRtv}};}
\DoxyCodeLine{00059\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00060\ \ \ \ \ \mbox{\hyperlink{classTextureOffscreenRT}{TextureOffscreenRT}}(\ \mbox{\hyperlink{classGraphics}{Graphics}}\ \&gfx,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ width,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ height,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ slot,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{texture__desc_8h_a6b4948cc0d12c93e6396540e02e2df58_a6b4948cc0d12c93e6396540e02e2df58}{RenderTargetViewMode}}\ rtvMode\ );}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classTexture_a352000d68cf402ecbc94f2c802a80c48_a352000d68cf402ecbc94f2c802a80c48}{bind}}(\ \mbox{\hyperlink{classGraphics}{Graphics}}\ \&gfx\ )\ cond\_noex\ \textcolor{keyword}{override};}
\DoxyCodeLine{00063\ \ \ \ \ std::shared\_ptr<RenderTargetOutput>\ shareRenderTarget()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00064\ \ \ \ \ std::shared\_ptr<RenderTargetOutput>\&\ accessRtv()\ noexcept;}
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{classTexture_a9637f3b195ad4156f4c35dc6b6c7633c_a9637f3b195ad4156f4c35dc6b6c7633c}{getSlot}}()\ const\ noexcept;}
\DoxyCodeLine{00066\ \};}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00074\ class\ \mbox{\hyperlink{classTextureOffscreenDS}{TextureOffscreenDS}}}
\DoxyCodeLine{00075\ \ \ \ \ :\ public\ \mbox{\hyperlink{classIBindable}{IBindable}}}
\DoxyCodeLine{00076\ \{}
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classTextureOffscreenDS_a33e4b2416a7631cf81b49426783f5e3d_a33e4b2416a7631cf81b49426783f5e3d}{m\_slot}};}
\DoxyCodeLine{00078\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00079\ \ \ \ \ Microsoft::WRL::ComPtr<ID3D11ShaderResourceView>\ \mbox{\hyperlink{classTextureOffscreenDS_abb356b8ca3037bc0983219b434ea7161_abb356b8ca3037bc0983219b434ea7161}{m\_pD3dSrv}};}
\DoxyCodeLine{00080\ \ \ \ \ std::shared\_ptr<DepthStencilOutput>\ \mbox{\hyperlink{classTextureOffscreenDS_a9b26bfd254720792283511dd457cf329_a9b26bfd254720792283511dd457cf329}{m\_pDsv}};}
\DoxyCodeLine{00081\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00082\ \ \ \ \ \mbox{\hyperlink{classTextureOffscreenDS}{TextureOffscreenDS}}(\ \mbox{\hyperlink{classGraphics}{Graphics}}\ \&gfx,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ width,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ height,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ slot,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{texture__desc_8h_a5aacc2000fea78d975de8fe06e3698f2_a5aacc2000fea78d975de8fe06e3698f2}{DepthStencilViewMode}}\ dsvMode\ );}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classTexture_a352000d68cf402ecbc94f2c802a80c48_a352000d68cf402ecbc94f2c802a80c48}{bind}}(\ \mbox{\hyperlink{classGraphics}{Graphics}}\ \&gfx\ )\ cond\_noex\ \textcolor{keyword}{override};}
\DoxyCodeLine{00085\ \ \ \ \ std::shared\_ptr<DepthStencilOutput>\ shareDepthBuffer()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00086\ \ \ \ \ std::shared\_ptr<DepthStencilOutput>\&\ accessDsv()\ noexcept;}
\DoxyCodeLine{00087\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{classTexture_a9637f3b195ad4156f4c35dc6b6c7633c_a9637f3b195ad4156f4c35dc6b6c7633c}{getSlot}}()\ const\ noexcept;}
\DoxyCodeLine{00088\ \};}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00096\ class\ \mbox{\hyperlink{classTextureArrayOffscreenDS}{TextureArrayOffscreenDS}}}
\DoxyCodeLine{00097\ \ \ \ \ :\ public\ \mbox{\hyperlink{classIBindable}{IBindable}}}
\DoxyCodeLine{00098\ \{}
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classTextureArrayOffscreenDS_adb096dc72605cdfa1149b7aeee29280a_adb096dc72605cdfa1149b7aeee29280a}{m\_slot}};}
\DoxyCodeLine{00100\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classTextureArrayOffscreenDS_acea5bcca953d4cbc105b2d70dbd96ffb_acea5bcca953d4cbc105b2d70dbd96ffb}{m\_nTextures}};}
\DoxyCodeLine{00101\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00102\ \ \ \ \ Microsoft::WRL::ComPtr<ID3D11ShaderResourceView>\ \mbox{\hyperlink{classTextureArrayOffscreenDS_ad08db3511334d0865080e7632adde30f_ad08db3511334d0865080e7632adde30f}{m\_pD3dSrv}};}
\DoxyCodeLine{00103\ \ \ \ \ std::vector<std::shared\_ptr<DepthStencilOutput>>\ \mbox{\hyperlink{classTextureArrayOffscreenDS_a603b9d6edd6532ed43c30aafa56baa1b_a603b9d6edd6532ed43c30aafa56baa1b}{m\_depthStencilViews}};}
\DoxyCodeLine{00104\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00105\ \ \ \ \ \mbox{\hyperlink{classTextureArrayOffscreenDS}{TextureArrayOffscreenDS}}(\ \mbox{\hyperlink{classGraphics}{Graphics}}\ \&gfx,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ width,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ height,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ slot,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{texture__desc_8h_a5aacc2000fea78d975de8fe06e3698f2_a5aacc2000fea78d975de8fe06e3698f2}{DepthStencilViewMode}}\ dsvMode,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ nTextures\ );}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classTexture_a352000d68cf402ecbc94f2c802a80c48_a352000d68cf402ecbc94f2c802a80c48}{bind}}(\ \mbox{\hyperlink{classGraphics}{Graphics}}\ \&gfx\ )\ cond\_noex\ \textcolor{keyword}{override};}
\DoxyCodeLine{00108\ \ \ \ \ std::shared\_ptr<DepthStencilOutput>\ shareDepthBuffer(\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ index\ )\ \textcolor{keyword}{const};}
\DoxyCodeLine{00109\ \ \ \ \ \mbox{\hyperlink{classDepthStencilOutput}{DepthStencilOutput}}*\ accessDepthBuffer(\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ index\ );}
\DoxyCodeLine{00110\ \ \ \ \ \mbox{\hyperlink{classDepthStencilOutput}{DepthStencilOutput}}*\ accessDsv(\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ index\ )\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00111\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{classTexture_a9637f3b195ad4156f4c35dc6b6c7633c_a9637f3b195ad4156f4c35dc6b6c7633c}{getSlot}}()\ const\ noexcept;}
\DoxyCodeLine{00112\ \ \ \ \ \textcolor{keywordtype}{int}\ getTextureCount()\ const\ noexcept;}
\DoxyCodeLine{00113\ \};}

\end{DoxyCode}
