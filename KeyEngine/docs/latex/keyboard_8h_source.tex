\doxysection{keyboard.\+h}
\hypertarget{keyboard_8h_source}{}\label{keyboard_8h_source}\index{inc/keyboard.h@{inc/keyboard.h}}
\mbox{\hyperlink{keyboard_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <queue>}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <bitset>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <optional>}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{non__copyable_8h}{non\_copyable.h}}"{}}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classWindow}{Window}};}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classKeyboard}{Keyboard}}\ final}
\DoxyCodeLine{00012\ \ \ \ \ :\ \mbox{\hyperlink{classNonCopyable}{NonCopyable}}}
\DoxyCodeLine{00013\ \{}
\DoxyCodeLine{00014\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classWindow}{Window}};}
\DoxyCodeLine{00015\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00016\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classKeyboard_ac79b8de4d65d91e281a4a7c04e4c15ea_ac79b8de4d65d91e281a4a7c04e4c15ea}{s\_nKeys}}\ =\ 256u;}
\DoxyCodeLine{00017\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classKeyboard_a363f5fb18b9ae168c4fc7bce08126f31_a363f5fb18b9ae168c4fc7bce08126f31}{s\_maxBufferSize}}\ =\ 16u;}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classKeyboard_1_1Event}{Event}}\ final}
\DoxyCodeLine{00020\ \ \ \ \ \{}
\DoxyCodeLine{00021\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00022\ \ \ \ \ \ \ \ \ \textcolor{keyword}{enum}\ \mbox{\hyperlink{classKeyboard_1_1Event_aaa12f942b71b42761c3bec96f3a67075_aaa12f942b71b42761c3bec96f3a67075}{Type}}}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classKeyboard_1_1Event_aaa12f942b71b42761c3bec96f3a67075_aaa12f942b71b42761c3bec96f3a67075a69a8f334bc2b154058b16d7ba580eb12}{Press}},}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classKeyboard_1_1Event_aaa12f942b71b42761c3bec96f3a67075_aaa12f942b71b42761c3bec96f3a67075aff890020ba76a1cbf675d2573a5d70c4}{Release}},}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classKeyboard_1_1Event_aaa12f942b71b42761c3bec96f3a67075_aaa12f942b71b42761c3bec96f3a67075af31756bbc2e27e5730a4894824f1280e}{Invalid}}}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00028\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classKeyboard_1_1Event_aaa12f942b71b42761c3bec96f3a67075_aaa12f942b71b42761c3bec96f3a67075}{Type}}\ \mbox{\hyperlink{classKeyboard_1_1Event_a8ab4248f38128f90a6d3db6032abfc18_a8ab4248f38128f90a6d3db6032abfc18}{m\_type}};}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ \mbox{\hyperlink{classKeyboard_1_1Event_ab3c7b39e079bc2dc7628dc70bc7a9304_ab3c7b39e079bc2dc7628dc70bc7a9304}{m\_keyc0de}};}
\DoxyCodeLine{00031\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classKeyboard_1_1Event_ad422ee145c6d274ccc522fae1002cf94_ad422ee145c6d274ccc522fae1002cf94}{Event}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classKeyboard_1_1Event_aaa12f942b71b42761c3bec96f3a67075_aaa12f942b71b42761c3bec96f3a67075}{Type}}\ type,}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ keyc0de\ )\ noexcept}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classKeyboard_1_1Event_a8ab4248f38128f90a6d3db6032abfc18_a8ab4248f38128f90a6d3db6032abfc18}{m\_type}}(type),}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classKeyboard_1_1Event_ab3c7b39e079bc2dc7628dc70bc7a9304_ab3c7b39e079bc2dc7628dc70bc7a9304}{m\_keyc0de}}(keyc0de)}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classKeyboard_1_1Event_a4178e2b526679bba478c22fcfb724670_a4178e2b526679bba478c22fcfb724670}{isPressEvent}}()\ const\ noexcept}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classKeyboard_1_1Event_a8ab4248f38128f90a6d3db6032abfc18_a8ab4248f38128f90a6d3db6032abfc18}{m\_type}}\ ==\ \mbox{\hyperlink{classKeyboard_1_1Event_aaa12f942b71b42761c3bec96f3a67075_aaa12f942b71b42761c3bec96f3a67075a69a8f334bc2b154058b16d7ba580eb12}{Press}};}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classKeyboard_1_1Event_affea73685d59a001ce89950ec4eb6c94_affea73685d59a001ce89950ec4eb6c94}{isReleaseEvent}}()\ const\ noexcept}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classKeyboard_1_1Event_a8ab4248f38128f90a6d3db6032abfc18_a8ab4248f38128f90a6d3db6032abfc18}{m\_type}}\ ==\ \mbox{\hyperlink{classKeyboard_1_1Event_aaa12f942b71b42761c3bec96f3a67075_aaa12f942b71b42761c3bec96f3a67075aff890020ba76a1cbf675d2573a5d70c4}{Release}};}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ \mbox{\hyperlink{classKeyboard_1_1Event_a48dabf65c18921c5a0a48fc627d638eb_a48dabf65c18921c5a0a48fc627d638eb}{getKeycode}}()\ const\ noexcept}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classKeyboard_1_1Event_ab3c7b39e079bc2dc7628dc70bc7a9304_ab3c7b39e079bc2dc7628dc70bc7a9304}{m\_keyc0de}};}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00055\ \ \ \ \ \};}
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classKeyboard_a807ad6015d42826612926d20bec1aa21_a807ad6015d42826612926d20bec1aa21}{m\_bAutorepeat}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00057\ \ \ \ \ std::bitset<s\_nKeys>\ \mbox{\hyperlink{classKeyboard_ac2996c1f7e6699c6dd39a255081e97bc_ac2996c1f7e6699c6dd39a255081e97bc}{m\_keyStates}};}
\DoxyCodeLine{00058\ \ \ \ \ std::queue<Keyboard::Event>\ \mbox{\hyperlink{classKeyboard_a421038ebec3114798c6b7a011d8e2727_a421038ebec3114798c6b7a011d8e2727}{m\_eventQueue}};}
\DoxyCodeLine{00059\ \ \ \ \ std::queue<char>\ \mbox{\hyperlink{classKeyboard_ad1ba69df5506a23db275e51301c19837_ad1ba69df5506a23db275e51301c19837}{m\_charBuffer}};}
\DoxyCodeLine{00060\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00061\ \ \ \ \ \mbox{\hyperlink{classKeyboard_a593b2dc485da39d18afdef3d38c4e22c_a593b2dc485da39d18afdef3d38c4e22c}{Keyboard}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classKeyboard_ad2361f937a9e6372893721b67b0e4371_ad2361f937a9e6372893721b67b0e4371}{trimBuffer}}(\ std::queue<T>\&\ buf\ )\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00066\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00067\ \ \ \ \ \mbox{\hyperlink{classKeyboard_ac9b39b3be8a3b61476aaa0897c6b0617_ac9b39b3be8a3b61476aaa0897c6b0617}{\string~Keyboard}}()\ noexcept\ =\ default;}
\DoxyCodeLine{00068\ \ \ \ \ \mbox{\hyperlink{classKeyboard}{Keyboard}}(\ \mbox{\hyperlink{classKeyboard}{Keyboard}}\ \&\&rhs\ )\ noexcept;}
\DoxyCodeLine{00069\ \ \ \ \ \mbox{\hyperlink{classKeyboard}{Keyboard}}\&\ operator=(\ \mbox{\hyperlink{classKeyboard}{Keyboard}}\ \&\&rhs\ )\ noexcept;}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{comment}{//\ key\ events}}
\DoxyCodeLine{00072\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classKeyboard_af03d770546134b5a8c1857eae31cb83a_af03d770546134b5a8c1857eae31cb83a}{isKeyPressed}}(\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ keycode\ )\ const\ noexcept;}
\DoxyCodeLine{00074\ \ \ \ \ std::optional<\mbox{\hyperlink{classKeyboard}{Keyboard}}::\mbox{\hyperlink{classKeyboard_1_1Event}{Event}}>\ \mbox{\hyperlink{classKeyboard_aa6b997459f8fd4754e8a0083cf7cbc75_aa6b997459f8fd4754e8a0083cf7cbc75}{readEventQueue}}()\ noexcept;}
\DoxyCodeLine{00075\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classKeyboard_aa258f4f3c83b007b99fd183f515bb1c2_aa258f4f3c83b007b99fd183f515bb1c2}{isEventQueueEmpty}}()\ const\ noexcept;}
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classKeyboard_a121d5336a3817d5cc24bb694b2135cdb_a121d5336a3817d5cc24bb694b2135cdb}{flushEventQueue}}()\ noexcept;}
\DoxyCodeLine{00078\ \ \ \ \ std::optional<\textcolor{keywordtype}{char}>\ \mbox{\hyperlink{classKeyboard_a10f09f893d2ee5de0382355051f87c46_a10f09f893d2ee5de0382355051f87c46}{readCharBuffer}}()\ noexcept;}
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classKeyboard_a359bd32181bf710f448c5f72eeae1e01_a359bd32181bf710f448c5f72eeae1e01}{isCharBufferEmpty}}()\ const\ noexcept;}
\DoxyCodeLine{00080\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classKeyboard_a936b9935e42566fbacb1fbd4e84dfcc6_a936b9935e42566fbacb1fbd4e84dfcc6}{flushCharBuffer}}()\ noexcept;}
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classKeyboard_a03eac10756813832e693a071dc0fb8ca_a03eac10756813832e693a071dc0fb8ca}{flushAll}}()\ noexcept;}
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{comment}{//\ autorepeat\ control}}
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classKeyboard_aaa659e9faa6b0986b3ae4bf288d2b21c_aaa659e9faa6b0986b3ae4bf288d2b21c}{enableAutorepeat}}()\ noexcept;}
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classKeyboard_ab065f64c957e5073f2967a9c5100c895_ab065f64c957e5073f2967a9c5100c895}{disableAutorepeat}}()\ noexcept;}
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classKeyboard_a6d8845aa292185a0513ee537b0c2fbc4_a6d8845aa292185a0513ee537b0c2fbc4}{isAutorepeatEnabled}}()\ const\ noexcept;}
\DoxyCodeLine{00086\ private:}
\DoxyCodeLine{00087\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classKeyboard_a638ff76869499016bfa2a1334a3fe4d4_a638ff76869499016bfa2a1334a3fe4d4}{onKeyPressed}}(\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ keycode\ )\ noexcept;}
\DoxyCodeLine{00088\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classKeyboard_a7f0d6d231047aa54ee05011287422b53_a7f0d6d231047aa54ee05011287422b53}{onKeyReleased}}(\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ keycode\ )\ noexcept;}
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classKeyboard_a2cee5c3d01ae16d6e4ce2fc59c13cbc7_a2cee5c3d01ae16d6e4ce2fc59c13cbc7}{onChar}}(\ \textcolor{keywordtype}{char}\ c\ )\ noexcept;}
\DoxyCodeLine{00090\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classKeyboard_a9ae942086b451980d60cfc9167ca42f0_a9ae942086b451980d60cfc9167ca42f0}{clearKeyStates}}()\ noexcept;}
\DoxyCodeLine{00091\ \};}

\end{DoxyCode}
