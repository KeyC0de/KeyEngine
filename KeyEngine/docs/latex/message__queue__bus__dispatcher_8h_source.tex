\doxysection{message\+\_\+queue\+\_\+bus\+\_\+dispatcher.\+h}
\hypertarget{message__queue__bus__dispatcher_8h_source}{}\label{message__queue__bus__dispatcher_8h_source}\index{inc/message\_queue\_bus\_dispatcher.h@{inc/message\_queue\_bus\_dispatcher.h}}
\mbox{\hyperlink{message__queue__bus__dispatcher_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <mutex>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <condition\_variable>}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{non__copyable_8h}{non\_copyable.h}}"{}}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classMessage}{Message}};}
\DoxyCodeLine{00011\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classMessageDispatcher}{MessageDispatcher}};}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00023\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classMessageBus}{MessageBus}}\ final}
\DoxyCodeLine{00024\ \ \ \ \ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classNonCopyable}{NonCopyable}}}
\DoxyCodeLine{00025\ \{}
\DoxyCodeLine{00026\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classMessageDispatcher}{MessageDispatcher}};}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \ \ \ \ \textcolor{comment}{//\ \#TODO:\ Change\ vector\ of\ unique\_ptr\ to\ Message\ to\ vector\ of\ objects\ of\ type\ Message}}
\DoxyCodeLine{00029\ \ \ \ \ std::vector<std::unique\_ptr<Message>>\ \mbox{\hyperlink{classMessageBus_aaccb0101733d16ef1ed5156633fc081b_aaccb0101733d16ef1ed5156633fc081b}{m\_vec}};}
\DoxyCodeLine{00030\ \ \ \ \ std::size\_t\ \mbox{\hyperlink{classMessageBus_ab8ac0e1b645ed452eef6669f538afd84_ab8ac0e1b645ed452eef6669f538afd84}{m\_size}}\ =\ 0;}
\DoxyCodeLine{00031\ \ \ \ \ \textcolor{keyword}{mutable}\ std::mutex\ \mbox{\hyperlink{classMessageBus_a3ae7f433af1e96050f2afaeca274b153_a3ae7f433af1e96050f2afaeca274b153}{m\_mu}};}
\DoxyCodeLine{00032\ \ \ \ \ std::condition\_variable\ \mbox{\hyperlink{classMessageBus_a9d24d8cdd4d668c5556967696c65fba8_a9d24d8cdd4d668c5556967696c65fba8}{m\_cond}};}
\DoxyCodeLine{00033\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00034\ \ \ \ \ \mbox{\hyperlink{classMessageBus_a7598f2a15c66346f853d6d13de21757b_a7598f2a15c66346f853d6d13de21757b}{MessageBus}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00035\ \ \ \ \ \mbox{\hyperlink{classMessageBus_a7598f2a15c66346f853d6d13de21757b_a7598f2a15c66346f853d6d13de21757b}{MessageBus}}(\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ initialCapacity\ );}
\DoxyCodeLine{00036\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classMessageBus_a5e132536c9b32703ec842128d480b258_a5e132536c9b32703ec842128d480b258}{removeFrontByBackSwap}}();}
\DoxyCodeLine{00038\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00039\ \ \ \ \ \mbox{\hyperlink{classMessageBus_a7598f2a15c66346f853d6d13de21757b_a7598f2a15c66346f853d6d13de21757b}{MessageBus}}(\ \mbox{\hyperlink{classMessageBus}{MessageBus}}\ \&\&rhs\ )\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00040\ \ \ \ \ \mbox{\hyperlink{classMessageBus}{MessageBus}}\&\ \mbox{\hyperlink{classMessageBus_a6e4a6e5d8018423429802e821f1d5a03_a6e4a6e5d8018423429802e821f1d5a03}{operator=}}(\ \mbox{\hyperlink{classMessageBus}{MessageBus}}\ \&\&rhs\ )\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00043\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classMessageBus_a06b68b60b6903a39140224548c788c37_a06b68b60b6903a39140224548c788c37}{enqueue}}(\ \mbox{\hyperlink{classMessage}{Message}}\ *msg\ );}
\DoxyCodeLine{00045\ \ \ \ \ std::unique\_ptr<Message>\ \mbox{\hyperlink{classMessageBus_a85ea7c0044a40d0e09434362eb140b7f_a85ea7c0044a40d0e09434362eb140b7f}{dequeue}}();}
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classMessage}{Message}}*\ \mbox{\hyperlink{classMessageBus_aba00023c9551dace685517015c1b3d7e_aba00023c9551dace685517015c1b3d7e}{peekFront}}()\ const\ noexcept;}
\DoxyCodeLine{00047\ \ \ \ \ const\ \mbox{\hyperlink{classMessage}{Message}}*\ \mbox{\hyperlink{classMessageBus_ae2711865f5568dfb9b0fc4ea350177c4_ae2711865f5568dfb9b0fc4ea350177c4}{peekBack}}()\ const\ noexcept;}
\DoxyCodeLine{00048\ \ \ \ \ explicit\ operator\ \textcolor{keywordtype}{bool}();}
\DoxyCodeLine{00049\ \ \ \ \ \mbox{\hyperlink{classMessage}{Message}}*\ operator[](\ const\ std::\textcolor{keywordtype}{size\_t}\ index\ );}
\DoxyCodeLine{00050\ \ \ \ \ const\ \mbox{\hyperlink{classMessage}{Message}}*\ operator[](\ const\ std::\textcolor{keywordtype}{size\_t}\ index\ )\ const;}
\DoxyCodeLine{00051\ \ \ \ \ std::\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classMessageBus_aa63b58f3d2cd308379f806d5b7d08704_aa63b58f3d2cd308379f806d5b7d08704}{getSize}}()\ const\ noexcept;}
\DoxyCodeLine{00052\ \ \ \ \ std::\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classMessageBus_af3dbede58c7524be2f9d8906aa1db674_af3dbede58c7524be2f9d8906aa1db674}{getCapacity}}()\ const\ noexcept;}
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classMessageBus_a21ffcf18ee493140fdab6019ded3e8fc_a21ffcf18ee493140fdab6019ded3e8fc}{isEmpty}}()\ const\ noexcept;}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classMessageBus_a6936bf9408c97f408fe3c1b340e87f23_a6936bf9408c97f408fe3c1b340e87f23}{clear}}();}
\DoxyCodeLine{00055\ \};}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00065\ class\ \mbox{\hyperlink{classMessageDispatcher}{MessageDispatcher}}\ final}
\DoxyCodeLine{00066\ \ \ \ \ :\ public\ \mbox{\hyperlink{classNonCopyable}{NonCopyable}}}
\DoxyCodeLine{00067\ \{}
\DoxyCodeLine{00068\ \ \ \ \ \mbox{\hyperlink{classMessageBus}{MessageBus}}\ \mbox{\hyperlink{classMessageDispatcher_addbf4f6ed8cd98fea50341827ac8476b_addbf4f6ed8cd98fea50341827ac8476b}{m\_mb}};}
\DoxyCodeLine{00069\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00070\ \ \ \ \ \mbox{\hyperlink{classMessageBus_afc22d6e21b1632fdf70629d396fe89cc_afc22d6e21b1632fdf70629d396fe89cc}{MessageDispatcher}}(\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ initialCapacity\ );}
\DoxyCodeLine{00071\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00072\ \ \ \ \ \mbox{\hyperlink{classMessageDispatcher_aae7761b005e409403fae393855c11db6_aae7761b005e409403fae393855c11db6}{\string~MessageDispatcher}}()\ noexcept\ =\ default;}
\DoxyCodeLine{00073\ \ \ \ \ \mbox{\hyperlink{classMessageDispatcher}{MessageDispatcher}}(\ \mbox{\hyperlink{classMessageDispatcher}{MessageDispatcher}}\ \&\&rhs\ )\ noexcept;}
\DoxyCodeLine{00074\ \ \ \ \ \mbox{\hyperlink{classMessageDispatcher}{MessageDispatcher}}\&\ operator=(\ \mbox{\hyperlink{classMessageDispatcher}{MessageDispatcher}}\ \&\&rhs\ )\ noexcept;}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \ \ \ \ static\ \mbox{\hyperlink{classMessageDispatcher}{MessageDispatcher}}\&\ getInstance(\ const\ \textcolor{keywordtype}{int}\ initialCapacity\ =\ 100\ );}
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{keywordtype}{void}\ addMessage(\ \mbox{\hyperlink{classMessage}{Message}}\ *msg\ );}
\DoxyCodeLine{00080\ \ \ \ \ \textcolor{keywordtype}{void}\ dispatchAll();}
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{comment}{//\ \#TODO:\ dispatchByEventType}}
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{comment}{//\ \#TODO:\ dispatchEventsTargetedTo(\ specific\ actor\ )}}
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classMessageBus_a6936bf9408c97f408fe3c1b340e87f23_a6936bf9408c97f408fe3c1b340e87f23}{clear}}();}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \ \ \ \ std::\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classMessageBus_aa63b58f3d2cd308379f806d5b7d08704_aa63b58f3d2cd308379f806d5b7d08704}{getSize}}()\ const\ noexcept;}
\DoxyCodeLine{00086\ \ \ \ \ std::\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classMessageBus_af3dbede58c7524be2f9d8906aa1db674_af3dbede58c7524be2f9d8906aa1db674}{getCapacity}}()\ const\ noexcept;}
\DoxyCodeLine{00087\ \};}

\end{DoxyCode}
