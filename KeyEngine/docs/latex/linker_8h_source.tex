\doxysection{linker.\+h}
\hypertarget{linker_8h_source}{}\label{linker_8h_source}\index{inc/linker.h@{inc/linker.h}}
\mbox{\hyperlink{linker_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{renderer__exception_8h}{renderer\_exception.h}}"{}}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classIBindable}{IBindable}};}
\DoxyCodeLine{00009\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classIRenderSurface}{IRenderSurface}};}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceren}{ren}}}
\DoxyCodeLine{00012\ \{}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classren_1_1ILinker}{ILinker}}}
\DoxyCodeLine{00015\ \{}
\DoxyCodeLine{00016\ \ \ \ \ std::string\ \mbox{\hyperlink{classren_1_1ILinker_a90402bb7d4c9078d4d7f153809d30aaf_a90402bb7d4c9078d4d7f153809d30aaf}{m\_name}};}
\DoxyCodeLine{00017\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00018\ \ \ \ \ \mbox{\hyperlink{classren_1_1ILinker_ad259b0ea4d66752335fa4f57817af71f_ad259b0ea4d66752335fa4f57817af71f}{ILinker}}(\ \textcolor{keyword}{const}\ std::string\ \&name\ );}
\DoxyCodeLine{00019\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00020\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classren_1_1ILinker_a680f4cce41b6e5e540ea758e2790eb1a_a680f4cce41b6e5e540ea758e2790eb1a}{\string~ILinker}}()\ noexcept\ =\ default;}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \ \ \ \ const\ std::\textcolor{keywordtype}{string}\&\ \mbox{\hyperlink{classren_1_1ILinker_a4192feae9df332056a8487b6d1e08f1b_a4192feae9df332056a8487b6d1e08f1b}{getName}}()\ const\ noexcept;}
\DoxyCodeLine{00023\ \ \ \ \ virtual\ std::shared\_ptr<\mbox{\hyperlink{classIBindable}{IBindable}}>\ \mbox{\hyperlink{classren_1_1ILinker_a931d059b56fdbc42f198bff4c9056e87_a931d059b56fdbc42f198bff4c9056e87}{getBindable}}();}
\DoxyCodeLine{00024\ \ \ \ \ virtual\ std::shared\_ptr<\mbox{\hyperlink{classIRenderSurface}{IRenderSurface}}>\ \mbox{\hyperlink{classren_1_1ILinker_a9a44001279f58f2071f8a21becaa50c1_a9a44001279f58f2071f8a21becaa50c1}{getRenderSurface}}();}
\DoxyCodeLine{00025\ \};}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00034\ template<class\ T>}
\DoxyCodeLine{00035\ class\ \mbox{\hyperlink{classren_1_1BindableLinker}{BindableLinker}}\ final}
\DoxyCodeLine{00036\ \ \ \ \ :\ public\ \mbox{\hyperlink{classren_1_1ILinker}{ILinker}}}
\DoxyCodeLine{00037\ \{}
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{keyword}{static\_assert}(\ std::is\_base\_of\_v<IBindable,\ T>,\ \textcolor{stringliteral}{"{}BindableLinker\ target\ T\ is\ not\ IBindable!"{}}\ );}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \ \ \ \ std::shared\_ptr<T>\ \&\mbox{\hyperlink{classren_1_1BindableLinker_ac839fa394e411cd11385566a96962122_ac839fa394e411cd11385566a96962122}{m\_target}};}
\DoxyCodeLine{00041\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00042\ \ \ \ \ \mbox{\hyperlink{classren_1_1BindableLinker_ab84394e094fbc9030bb0f1bf87e64580_ab84394e094fbc9030bb0f1bf87e64580}{BindableLinker}}(\ \textcolor{keyword}{const}\ std::string\ \&name,}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ std::shared\_ptr<T>\&\ target\ )}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classren_1_1ILinker}{ILinker}}\{name\},}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ m\_target\{target\}}
\DoxyCodeLine{00047\ \ \ \ \ \{}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \ \ \ \ \}}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{keyword}{static}\ std::unique\_ptr<BindableLinker>\ \mbox{\hyperlink{classren_1_1BindableLinker_a22d86c2360817c91949f72953da423ef_a22d86c2360817c91949f72953da423ef}{make}}(\ \textcolor{keyword}{const}\ std::string\ \&name,}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ std::shared\_ptr<T>\ \&target\ )}
\DoxyCodeLine{00053\ \ \ \ \ \{}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::make\_unique<BindableLinker>(\ name,\ target\ );}
\DoxyCodeLine{00055\ \ \ \ \ \}}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \ \ \ \ std::shared\_ptr<IBindable>\ \mbox{\hyperlink{classren_1_1BindableLinker_a44609872588cc627c55ba427b43f1316_a44609872588cc627c55ba427b43f1316}{getBindable}}()\textcolor{keyword}{\ override}}
\DoxyCodeLine{00058\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_target;}
\DoxyCodeLine{00060\ \ \ \ \ \}}
\DoxyCodeLine{00061\ \};}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00070\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{00071\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classren_1_1RenderSurfaceLinker}{RenderSurfaceLinker}}\ final}
\DoxyCodeLine{00072\ \ \ \ \ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classren_1_1ILinker}{ILinker}}}
\DoxyCodeLine{00073\ \{}
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{keyword}{static\_assert}(\ std::is\_base\_of\_v<IRenderSurface,\ T>,\ \textcolor{stringliteral}{"{}RenderSurfaceLinker\ target\ T\ is\ not\ IRenderSurface!"{}}\ );}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \ \ \ \ std::shared\_ptr<T>\ \&\mbox{\hyperlink{classren_1_1RenderSurfaceLinker_a954e362c0e1c90e5ce70325a7da0ea73_a954e362c0e1c90e5ce70325a7da0ea73}{m\_target}};}
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{keywordtype}{bool}\ m\_bLinked\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00078\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00079\ \ \ \ \ \mbox{\hyperlink{classren_1_1RenderSurfaceLinker_aff7516765756902ec0a08b638c4ddd24_aff7516765756902ec0a08b638c4ddd24}{RenderSurfaceLinker}}(\ \textcolor{keyword}{const}\ std::string\ \&name,}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ std::shared\_ptr<T>\ \&target\ )}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ :}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classren_1_1ILinker}{ILinker}}\{name\},}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ m\_target\{target\}}
\DoxyCodeLine{00084\ \ \ \ \ \{}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \ \ \ \ \}}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00088\ \ \ \ \ \textcolor{keyword}{static}\ std::unique\_ptr<RenderSurfaceLinker>\ \mbox{\hyperlink{classren_1_1RenderSurfaceLinker_a3dfb5c23039f780789d65690a295e434_a3dfb5c23039f780789d65690a295e434}{make}}(\ \textcolor{keyword}{const}\ std::string\ \&name,}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ std::shared\_ptr<T>\ \&target\ )}
\DoxyCodeLine{00090\ \ \ \ \ \{}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::make\_unique<RenderSurfaceLinker>(\ name,\ target\ );}
\DoxyCodeLine{00092\ \ \ \ \ \}}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ \ \ \ \ std::shared\_ptr<IRenderSurface>\ \mbox{\hyperlink{classren_1_1RenderSurfaceLinker_af597b7c04be623fb8790843390974ded_af597b7c04be623fb8790843390974ded}{getRenderSurface}}()\textcolor{keyword}{\ override}}
\DoxyCodeLine{00095\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ m\_bLinked\ )}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{renderer__exception_8h_aa44af0d97aee41f6d2d530c50166b864_aa44af0d97aee41f6d2d530c50166b864}{THROW\_RENDERER\_EXCEPTION}}(\ \textcolor{stringliteral}{"{}Repeated\ attempt\ made\ to\ bind\ "{}}\ +\ getName()\ +\ \textcolor{stringliteral}{"{}!"{}}\ )}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ m\_bLinked\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_target;}
\DoxyCodeLine{00102\ \ \ \ \ \}}
\DoxyCodeLine{00103\ \};}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ \}}

\end{DoxyCode}
